{
  "hash": "f6c84d1e04fae5207348ff38cb0fec29",
  "result": {
    "markdown": "---\ntitle: \"Lecture 5: Completion Percentage Over Expectation\"\nformat: html\n---\n\n\n## Introduction\n\nThe goal of this demo is begin our build-up to understanding the importance of __multilevel modeling__ in sports. We'll do this in the context of modeling completion probability for pass attempts in the NFL based on games during the 2023 and 2024 regular seasons. The dataset and code used to initialize it (`init_nfl_passing_data.R`) are available on Canvas. \n\nThe following code chunk reads in the relevant dataset (assuming it is in the correct directory) of passing plays:\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(tidyverse)\nnfl_passing_data <- read_csv(here::here(\"data/nfl_passing_data.csv\"))\nnfl_passing_data\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 35,987 × 17\n   game_id         play_id drive posteam defteam posteam_type passer_name_id    \n   <chr>             <dbl> <dbl> <chr>   <chr>   <chr>        <chr>             \n 1 2023_01_ARI_WAS      77     1 WAS     ARI     home         S.Howell_00-00370…\n 2 2023_01_ARI_WAS     124     1 WAS     ARI     home         S.Howell_00-00370…\n 3 2023_01_ARI_WAS     147     1 WAS     ARI     home         S.Howell_00-00370…\n 4 2023_01_ARI_WAS     172     1 WAS     ARI     home         S.Howell_00-00370…\n 5 2023_01_ARI_WAS     197     1 WAS     ARI     home         S.Howell_00-00370…\n 6 2023_01_ARI_WAS     220     1 WAS     ARI     home         S.Howell_00-00370…\n 7 2023_01_ARI_WAS     332     2 ARI     WAS     away         J.Dobbs_00-0033949\n 8 2023_01_ARI_WAS     357     2 ARI     WAS     away         J.Dobbs_00-0033949\n 9 2023_01_ARI_WAS     380     2 ARI     WAS     away         J.Dobbs_00-0033949\n10 2023_01_ARI_WAS     526     3 WAS     ARI     home         S.Howell_00-00370…\n# ℹ 35,977 more rows\n# ℹ 10 more variables: receiver_name_id <chr>, complete_pass <dbl>,\n#   pass_location <chr>, air_yards <dbl>, qb_hit <dbl>, epa <dbl>,\n#   yardline_100 <dbl>, down <dbl>, ydstogo <dbl>, is_home <dbl>\n```\n:::\n:::\n\n\n\n## Modeling completion probability with logistic regression\n\nSimilar to how we modeled expected goals in hockey, we will use a logistic regression model to estimate the probability of a complete pass (i.e., when `complete_pass` equals 1) based on a few variables:\n\n1. `pass_location`: a categorical variable denoting which side of the field the ball was thrown to, either `left`, `middle`, or `right` (based on manually charted data). We're going to be lazy and treat `left` as the reference level, but one should think more carefully about which level is more appropriate.\n\n2. `air_yards`: a quantitative variable indicating how many yards the ball traveled in the air _perpendicular_ to the line of scrimmage. This does not measure the actual distance traveled by the ball (e.g., if the QB throws the ball across the field but only to the line of scrimmage then it has air yards of 0), but still provides measure for the length of the pass.\n\n3. `qb_hit`: a binary indicator variable denoting whether or not the QB was hit on the play, serving as a proxy for plays where the QB observes pressure (i.e., a tougher situation to make a throw).\n\nThe following code chunk fits the logistic regression model on all of the data:\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlogit_completion <- glm(complete_pass ~ pass_location + air_yards + qb_hit,\n                        data = nfl_passing_data, family = \"binomial\")\n\nsummary(logit_completion)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n\nCall:\nglm(formula = complete_pass ~ pass_location + air_yards + qb_hit, \n    family = \"binomial\", data = nfl_passing_data)\n\nDeviance Residuals: \n    Min       1Q   Median       3Q      Max  \n-2.1567  -1.1713   0.7187   0.8481   2.3971  \n\nCoefficients:\n                     Estimate Std. Error z value Pr(>|z|)    \n(Intercept)          1.221994   0.021886  55.834  < 2e-16 ***\npass_locationmiddle  0.164057   0.032141   5.104 3.32e-07 ***\npass_locationright  -0.090248   0.026235  -3.440 0.000582 ***\nair_yards           -0.058879   0.001203 -48.957  < 2e-16 ***\nqb_hit              -1.080257   0.038836 -27.816  < 2e-16 ***\n---\nSignif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1\n\n(Dispersion parameter for binomial family taken to be 1)\n\n    Null deviance: 46543  on 35986  degrees of freedom\nResidual deviance: 42900  on 35982  degrees of freedom\nAIC: 42910\n\nNumber of Fisher Scoring iterations: 4\n```\n:::\n:::\n\n\n__EXERCISE: How should we evaluate this model? Perform the appropriate type of evaluation on your own time. Are there any variables that be adjusted in some way? Are there are any other variables in the dataset that we should account for?__\n\n## Computing CPOE by allocating residuals\n\nAs discussed in lecture, __completion percentage over expectation (CPOE)__ is a very popular statistic in football analytics that is commonly used for measuring QB performance. The idea behind the stat is very simple: for every pass attempt we can compute the residual between the pass outcome (1 for completion, 0 for incomplete) and the estimated completion probability based on our model. We can then accumulate and average over these residuals to compute CPOE, representing how many more completions are observed than expected on average. For $n$ pass attempts, the CPOE is:\n\n$$\nCPOE = \\frac{1}{n} \\sum_i^n (Outcome_i - \\widehat{Pr}(Outcome_i | X_i))\n$$\nwhere $Outcome_i$ is 1 for complete and 0 for incomplete or an interception.\n\nThe following code chunk performs this calculation for every passer in the dataset, along with computing the observed number of completions and completion percentage, as well as the sum and average of the completion probability estimates to get the expected number of completions and expected completion percentage respectively.\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# First add the predicted probabilities to the dataset:\nnfl_passing_data <- nfl_passing_data |>\n  mutate(comp_prob = logit_completion$fitted.values,\n         # Compute the residual:\n         comp_resid = complete_pass - comp_prob)\n\n# Now create the QB summary table:\nqb_summary <- nfl_passing_data |>\n  group_by(passer_name_id) |>\n  summarize(n_pass = n(),\n            comps = sum(complete_pass),\n            comp_perc = mean(complete_pass),\n            ex_comps = sum(comp_prob),\n            ex_comp_perc = mean(comp_prob),\n            cpoe = mean(comp_resid),\n            .groups = \"drop\")\nqb_summary\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 141 × 7\n   passer_name_id          n_pass comps comp_perc ex_comps ex_comp_perc    cpoe\n   <chr>                    <int> <dbl>     <dbl>    <dbl>        <dbl>   <dbl>\n 1 A.Cole_00-0035190            1     1     1        0.710        0.710  0.290 \n 2 A.Dalton_00-0027973        218   140     0.642  144.           0.661 -0.0187\n 3 A.Lazard_00-0034521          1     0     0        0.533        0.533 -0.533 \n 4 A.McCarron_00-0031288        5     4     0.8      3.93         0.786  0.0136\n 5 A.Mitchell_00-0039890        1     1     1        0.829        0.829  0.171 \n 6 A.O'Connell_00-0038579     584   367     0.628  383.           0.656 -0.0277\n 7 A.Richardson_00-0039164    346   176     0.509  209.           0.603 -0.0944\n 8 A.Rodgers_00-0023459       585   368     0.629  388.           0.663 -0.0334\n 9 A.St. Brown_00-0036963       1     1     1        0.717        0.717  0.283 \n10 B.Allen_00-0032434          30    17     0.567   19.7          0.657 -0.0905\n# ℹ 131 more rows\n```\n:::\n:::\n\n\nWe can create a custom table with the top 10 QBs in terms of CPOE (with a minimum of 200 passing attempts) using the [`gt`](https://gt.rstudio.com/) package:\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(gt)\n```\n\n::: {.cell-output .cell-output-stderr}\n```\nWarning: package 'gt' was built under R version 4.2.3\n```\n:::\n\n```{.r .cell-code}\nqb_summary |>\n  filter(n_pass >= 200) |>\n  # Sort by CPOE in descending order:\n  arrange(desc(cpoe)) |>\n  # Only grab the top 10 QBs:\n  slice(1:10) |>\n  # Round the various stats and multiple the %s by 100 for display reasons\n  mutate(comp_perc = round(comp_perc * 100, digits = 4),\n         ex_comps = round(ex_comps, digits = 4),\n         ex_comp_perc = round(ex_comp_perc * 100, digits = 4),\n         cpoe = round(cpoe * 100, digits = 4)) |>\n  # Rename the columns for display purposes:\n  rename(`QB_ID` = passer_name_id,\n         `# Passes` = n_pass,\n         `# Comps` = comps,\n         `Comp %` = comp_perc,\n         `Exp # Comps` = ex_comps,\n         `Exp Comp %` = ex_comp_perc,\n         `CPOE` = cpoe) |>\n  gt() |>\n  tab_header(title = \"Top 10 QBs based on CPOE (minimum of 200 pass attempts)\",\n             subtitle = \"Based on 2023-2024 regular season games accessed using nflreadr\") |>\n  tab_style(\n    style = list(\n      cell_borders(\n        sides = \"right\",\n        color = \"black\",\n        weight = px(3)\n      )\n    ),\n    # Where to place the thick border\n    locations = list(\n      cells_body(\n        columns = c(`# Passes`)\n      )\n    )\n  ) |>\n  # Which variables to color by\n  data_color(columns = c(`Comp %`,\n                         `Exp Comp %`,\n                         `CPOE`),\n             colors = scales::col_numeric(\n               palette = c(\"darkblue\", \"darkorange\"),\n               domain = NULL\n             ))\n```\n\n::: {.cell-output .cell-output-stderr}\n```\nWarning: Since gt v0.9.0, the `colors` argument has been deprecated.\n• Please use the `fn` argument instead.\nThis warning is displayed once every 8 hours.\n```\n:::\n\n::: {.cell-output-display}\n```{=html}\n<div id=\"pzuzswxccw\" style=\"padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;\">\n<style>#pzuzswxccw table {\n  font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n}\n\n#pzuzswxccw thead, #pzuzswxccw tbody, #pzuzswxccw tfoot, #pzuzswxccw tr, #pzuzswxccw td, #pzuzswxccw th {\n  border-style: none;\n}\n\n#pzuzswxccw p {\n  margin: 0;\n  padding: 0;\n}\n\n#pzuzswxccw .gt_table {\n  display: table;\n  border-collapse: collapse;\n  line-height: normal;\n  margin-left: auto;\n  margin-right: auto;\n  color: #333333;\n  font-size: 16px;\n  font-weight: normal;\n  font-style: normal;\n  background-color: #FFFFFF;\n  width: auto;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #A8A8A8;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #A8A8A8;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n}\n\n#pzuzswxccw .gt_caption {\n  padding-top: 4px;\n  padding-bottom: 4px;\n}\n\n#pzuzswxccw .gt_title {\n  color: #333333;\n  font-size: 125%;\n  font-weight: initial;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-color: #FFFFFF;\n  border-bottom-width: 0;\n}\n\n#pzuzswxccw .gt_subtitle {\n  color: #333333;\n  font-size: 85%;\n  font-weight: initial;\n  padding-top: 3px;\n  padding-bottom: 5px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-color: #FFFFFF;\n  border-top-width: 0;\n}\n\n#pzuzswxccw .gt_heading {\n  background-color: #FFFFFF;\n  text-align: center;\n  border-bottom-color: #FFFFFF;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n}\n\n#pzuzswxccw .gt_bottom_border {\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#pzuzswxccw .gt_col_headings {\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n}\n\n#pzuzswxccw .gt_col_heading {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: normal;\n  text-transform: inherit;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 6px;\n  padding-left: 5px;\n  padding-right: 5px;\n  overflow-x: hidden;\n}\n\n#pzuzswxccw .gt_column_spanner_outer {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: normal;\n  text-transform: inherit;\n  padding-top: 0;\n  padding-bottom: 0;\n  padding-left: 4px;\n  padding-right: 4px;\n}\n\n#pzuzswxccw .gt_column_spanner_outer:first-child {\n  padding-left: 0;\n}\n\n#pzuzswxccw .gt_column_spanner_outer:last-child {\n  padding-right: 0;\n}\n\n#pzuzswxccw .gt_column_spanner {\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 5px;\n  overflow-x: hidden;\n  display: inline-block;\n  width: 100%;\n}\n\n#pzuzswxccw .gt_spanner_row {\n  border-bottom-style: hidden;\n}\n\n#pzuzswxccw .gt_group_heading {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: middle;\n  text-align: left;\n}\n\n#pzuzswxccw .gt_empty_group_heading {\n  padding: 0.5px;\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  vertical-align: middle;\n}\n\n#pzuzswxccw .gt_from_md > :first-child {\n  margin-top: 0;\n}\n\n#pzuzswxccw .gt_from_md > :last-child {\n  margin-bottom: 0;\n}\n\n#pzuzswxccw .gt_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  margin: 10px;\n  border-top-style: solid;\n  border-top-width: 1px;\n  border-top-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: middle;\n  overflow-x: hidden;\n}\n\n#pzuzswxccw .gt_stub {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-right-style: solid;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#pzuzswxccw .gt_stub_row_group {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-right-style: solid;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  padding-left: 5px;\n  padding-right: 5px;\n  vertical-align: top;\n}\n\n#pzuzswxccw .gt_row_group_first td {\n  border-top-width: 2px;\n}\n\n#pzuzswxccw .gt_row_group_first th {\n  border-top-width: 2px;\n}\n\n#pzuzswxccw .gt_summary_row {\n  color: #333333;\n  background-color: #FFFFFF;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#pzuzswxccw .gt_first_summary_row {\n  border-top-style: solid;\n  border-top-color: #D3D3D3;\n}\n\n#pzuzswxccw .gt_first_summary_row.thick {\n  border-top-width: 2px;\n}\n\n#pzuzswxccw .gt_last_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#pzuzswxccw .gt_grand_summary_row {\n  color: #333333;\n  background-color: #FFFFFF;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#pzuzswxccw .gt_first_grand_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-style: double;\n  border-top-width: 6px;\n  border-top-color: #D3D3D3;\n}\n\n#pzuzswxccw .gt_last_grand_summary_row_top {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-style: double;\n  border-bottom-width: 6px;\n  border-bottom-color: #D3D3D3;\n}\n\n#pzuzswxccw .gt_striped {\n  background-color: rgba(128, 128, 128, 0.05);\n}\n\n#pzuzswxccw .gt_table_body {\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#pzuzswxccw .gt_footnotes {\n  color: #333333;\n  background-color: #FFFFFF;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#pzuzswxccw .gt_footnote {\n  margin: 0px;\n  font-size: 90%;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#pzuzswxccw .gt_sourcenotes {\n  color: #333333;\n  background-color: #FFFFFF;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#pzuzswxccw .gt_sourcenote {\n  font-size: 90%;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#pzuzswxccw .gt_left {\n  text-align: left;\n}\n\n#pzuzswxccw .gt_center {\n  text-align: center;\n}\n\n#pzuzswxccw .gt_right {\n  text-align: right;\n  font-variant-numeric: tabular-nums;\n}\n\n#pzuzswxccw .gt_font_normal {\n  font-weight: normal;\n}\n\n#pzuzswxccw .gt_font_bold {\n  font-weight: bold;\n}\n\n#pzuzswxccw .gt_font_italic {\n  font-style: italic;\n}\n\n#pzuzswxccw .gt_super {\n  font-size: 65%;\n}\n\n#pzuzswxccw .gt_footnote_marks {\n  font-size: 75%;\n  vertical-align: 0.4em;\n  position: initial;\n}\n\n#pzuzswxccw .gt_asterisk {\n  font-size: 100%;\n  vertical-align: 0;\n}\n\n#pzuzswxccw .gt_indent_1 {\n  text-indent: 5px;\n}\n\n#pzuzswxccw .gt_indent_2 {\n  text-indent: 10px;\n}\n\n#pzuzswxccw .gt_indent_3 {\n  text-indent: 15px;\n}\n\n#pzuzswxccw .gt_indent_4 {\n  text-indent: 20px;\n}\n\n#pzuzswxccw .gt_indent_5 {\n  text-indent: 25px;\n}\n</style>\n<table class=\"gt_table\" data-quarto-disable-processing=\"false\" data-quarto-bootstrap=\"false\">\n  <thead>\n    <tr class=\"gt_heading\">\n      <td colspan=\"7\" class=\"gt_heading gt_title gt_font_normal\" style>Top 10 QBs based on CPOE (minimum of 200 pass attempts)</td>\n    </tr>\n    <tr class=\"gt_heading\">\n      <td colspan=\"7\" class=\"gt_heading gt_subtitle gt_font_normal gt_bottom_border\" style>Based on 2023-2024 regular season games accessed using nflreadr</td>\n    </tr>\n    <tr class=\"gt_col_headings\">\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_left\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"QB_ID\">QB_ID</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"# Passes\"># Passes</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"# Comps\"># Comps</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"Comp %\">Comp %</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"Exp # Comps\">Exp # Comps</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"Exp Comp %\">Exp Comp %</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"CPOE\">CPOE</th>\n    </tr>\n  </thead>\n  <tbody class=\"gt_table_body\">\n    <tr><td headers=\"QB_ID\" class=\"gt_row gt_left\">J.Browning_00-0035100</td>\n<td headers=\"# Passes\" class=\"gt_row gt_right\" style=\"border-right-width: 3px; border-right-style: solid; border-right-color: black;\">243</td>\n<td headers=\"# Comps\" class=\"gt_row gt_right\">171</td>\n<td headers=\"Comp %\" class=\"gt_row gt_right\" style=\"background-color: #DD6E3B; color: #FFFFFF;\">70.3704</td>\n<td headers=\"Exp # Comps\" class=\"gt_row gt_right\">161.6712</td>\n<td headers=\"Exp Comp %\" class=\"gt_row gt_right\" style=\"background-color: #C3594E; color: #FFFFFF;\">66.5313</td>\n<td headers=\"CPOE\" class=\"gt_row gt_right\" style=\"background-color: #FF8C00; color: #000000;\">3.8390</td></tr>\n    <tr><td headers=\"QB_ID\" class=\"gt_row gt_left\">K.Cousins_00-0029604</td>\n<td headers=\"# Passes\" class=\"gt_row gt_right\" style=\"border-right-width: 3px; border-right-style: solid; border-right-color: black;\">758</td>\n<td headers=\"# Comps\" class=\"gt_row gt_right\">519</td>\n<td headers=\"Comp %\" class=\"gt_row gt_right\" style=\"background-color: #7A2572; color: #FFFFFF;\">68.4697</td>\n<td headers=\"Exp # Comps\" class=\"gt_row gt_right\">490.1913</td>\n<td headers=\"Exp Comp %\" class=\"gt_row gt_right\" style=\"background-color: #0D008A; color: #FFFFFF;\">64.6690</td>\n<td headers=\"CPOE\" class=\"gt_row gt_right\" style=\"background-color: #F98714; color: #000000;\">3.8006</td></tr>\n    <tr><td headers=\"QB_ID\" class=\"gt_row gt_left\">J.Burrow_00-0036442</td>\n<td headers=\"# Passes\" class=\"gt_row gt_right\" style=\"border-right-width: 3px; border-right-style: solid; border-right-color: black;\">1014</td>\n<td headers=\"# Comps\" class=\"gt_row gt_right\">704</td>\n<td headers=\"Comp %\" class=\"gt_row gt_right\" style=\"background-color: #AF495A; color: #FFFFFF;\">69.4280</td>\n<td headers=\"Exp # Comps\" class=\"gt_row gt_right\">666.7347</td>\n<td headers=\"Exp Comp %\" class=\"gt_row gt_right\" style=\"background-color: #8E316A; color: #FFFFFF;\">65.7529</td>\n<td headers=\"CPOE\" class=\"gt_row gt_right\" style=\"background-color: #E77830; color: #FFFFFF;\">3.6751</td></tr>\n    <tr><td headers=\"QB_ID\" class=\"gt_row gt_left\">J.Goff_00-0033106</td>\n<td headers=\"# Passes\" class=\"gt_row gt_right\" style=\"border-right-width: 3px; border-right-style: solid; border-right-color: black;\">1137</td>\n<td headers=\"# Comps\" class=\"gt_row gt_right\">797</td>\n<td headers=\"Comp %\" class=\"gt_row gt_right\" style=\"background-color: #CF6345; color: #FFFFFF;\">70.0967</td>\n<td headers=\"Exp # Comps\" class=\"gt_row gt_right\">755.9979</td>\n<td headers=\"Exp Comp %\" class=\"gt_row gt_right\" style=\"background-color: #C05750; color: #FFFFFF;\">66.4906</td>\n<td headers=\"CPOE\" class=\"gt_row gt_right\" style=\"background-color: #DD6F3A; color: #FFFFFF;\">3.6062</td></tr>\n    <tr><td headers=\"QB_ID\" class=\"gt_row gt_left\">T.Tagovailoa_00-0036212</td>\n<td headers=\"# Passes\" class=\"gt_row gt_right\" style=\"border-right-width: 3px; border-right-style: solid; border-right-color: black;\">955</td>\n<td headers=\"# Comps\" class=\"gt_row gt_right\">679</td>\n<td headers=\"Comp %\" class=\"gt_row gt_right\" style=\"background-color: #FF8C00; color: #000000;\">71.0995</td>\n<td headers=\"Exp # Comps\" class=\"gt_row gt_right\">644.5809</td>\n<td headers=\"Exp Comp %\" class=\"gt_row gt_right\" style=\"background-color: #FF8C00; color: #000000;\">67.4954</td>\n<td headers=\"CPOE\" class=\"gt_row gt_right\" style=\"background-color: #DD6F3A; color: #FFFFFF;\">3.6041</td></tr>\n    <tr><td headers=\"QB_ID\" class=\"gt_row gt_left\">B.Purdy_00-0037834</td>\n<td headers=\"# Passes\" class=\"gt_row gt_right\" style=\"border-right-width: 3px; border-right-style: solid; border-right-color: black;\">891</td>\n<td headers=\"# Comps\" class=\"gt_row gt_right\">608</td>\n<td headers=\"Comp %\" class=\"gt_row gt_right\" style=\"background-color: #6C1C77; color: #FFFFFF;\">68.2379</td>\n<td headers=\"Exp # Comps\" class=\"gt_row gt_right\">576.0082</td>\n<td headers=\"Exp Comp %\" class=\"gt_row gt_right\" style=\"background-color: #00008B; color: #FFFFFF;\">64.6474</td>\n<td headers=\"CPOE\" class=\"gt_row gt_right\" style=\"background-color: #DB6D3C; color: #FFFFFF;\">3.5905</td></tr>\n    <tr><td headers=\"QB_ID\" class=\"gt_row gt_left\">D.Prescott_00-0033077</td>\n<td headers=\"# Passes\" class=\"gt_row gt_right\" style=\"border-right-width: 3px; border-right-style: solid; border-right-color: black;\">874</td>\n<td headers=\"# Comps\" class=\"gt_row gt_right\">595</td>\n<td headers=\"Comp %\" class=\"gt_row gt_right\" style=\"background-color: #61167B; color: #FFFFFF;\">68.0778</td>\n<td headers=\"Exp # Comps\" class=\"gt_row gt_right\">568.9769</td>\n<td headers=\"Exp Comp %\" class=\"gt_row gt_right\" style=\"background-color: #57117E; color: #FFFFFF;\">65.1003</td>\n<td headers=\"CPOE\" class=\"gt_row gt_right\" style=\"background-color: #7A2472; color: #FFFFFF;\">2.9775</td></tr>\n    <tr><td headers=\"QB_ID\" class=\"gt_row gt_left\">D.Carr_00-0031280</td>\n<td headers=\"# Passes\" class=\"gt_row gt_right\" style=\"border-right-width: 3px; border-right-style: solid; border-right-color: black;\">827</td>\n<td headers=\"# Comps\" class=\"gt_row gt_right\">564</td>\n<td headers=\"Comp %\" class=\"gt_row gt_right\" style=\"background-color: #691A78; color: #FFFFFF;\">68.1983</td>\n<td headers=\"Exp # Comps\" class=\"gt_row gt_right\">541.8996</td>\n<td headers=\"Exp Comp %\" class=\"gt_row gt_right\" style=\"background-color: #7D2671; color: #FFFFFF;\">65.5259</td>\n<td headers=\"CPOE\" class=\"gt_row gt_right\" style=\"background-color: #2E0387; color: #FFFFFF;\">2.6724</td></tr>\n    <tr><td headers=\"QB_ID\" class=\"gt_row gt_left\">J.Daniels_00-0039910</td>\n<td headers=\"# Passes\" class=\"gt_row gt_right\" style=\"border-right-width: 3px; border-right-style: solid; border-right-color: black;\">478</td>\n<td headers=\"# Comps\" class=\"gt_row gt_right\">331</td>\n<td headers=\"Comp %\" class=\"gt_row gt_right\" style=\"background-color: #A5425F; color: #FFFFFF;\">69.2469</td>\n<td headers=\"Exp # Comps\" class=\"gt_row gt_right\">318.3892</td>\n<td headers=\"Exp Comp %\" class=\"gt_row gt_right\" style=\"background-color: #C75D4B; color: #FFFFFF;\">66.6086</td>\n<td headers=\"CPOE\" class=\"gt_row gt_right\" style=\"background-color: #1C0189; color: #FFFFFF;\">2.6382</td></tr>\n    <tr><td headers=\"QB_ID\" class=\"gt_row gt_left\">L.Jackson_00-0034796</td>\n<td headers=\"# Passes\" class=\"gt_row gt_right\" style=\"border-right-width: 3px; border-right-style: solid; border-right-color: black;\">925</td>\n<td headers=\"# Comps\" class=\"gt_row gt_right\">623</td>\n<td headers=\"Comp %\" class=\"gt_row gt_right\" style=\"background-color: #00008B; color: #FFFFFF;\">67.3514</td>\n<td headers=\"Exp # Comps\" class=\"gt_row gt_right\">598.8349</td>\n<td headers=\"Exp Comp %\" class=\"gt_row gt_right\" style=\"background-color: #240188; color: #FFFFFF;\">64.7389</td>\n<td headers=\"CPOE\" class=\"gt_row gt_right\" style=\"background-color: #00008B; color: #FFFFFF;\">2.6124</td></tr>\n  </tbody>\n  \n  \n</table>\n</div>\n```\n:::\n:::\n\n\nBut this table only displays the QB rankings. We can do the same for receivers, from the view point of catches over expectation:\n\n\n::: {.cell}\n\n```{.r .cell-code}\nrec_summary <- nfl_passing_data |>\n  group_by(receiver_name_id) |>\n  summarize(n_pass = n(),\n            n_rec = sum(complete_pass),\n            catch_perc = mean(complete_pass),\n            ex_rec = sum(comp_prob),\n            ex_catch_perc = mean(comp_prob),\n            cpoe = mean(comp_resid),\n            .groups = \"drop\")\n\nrec_summary |>\n  filter(n_pass >= 50) |>\n  # Sort by CPOE in descending order:\n  arrange(desc(cpoe)) |>\n  # Only grab the top 10 QBs:\n  slice(1:10) |>\n  # Round the various stats and multiple the %s by 100 for display reasons\n  mutate(catch_perc = round(catch_perc * 100, digits = 4),\n         ex_rec = round(ex_rec, digits = 4),\n         ex_catch_perc = round(ex_catch_perc * 100, digits = 4),\n         cpoe = round(cpoe * 100, digits = 4)) |>\n  # Rename the columns for display purposes:\n  rename(`Receiver_ID` = receiver_name_id,\n         `# Targets` = n_pass,\n         `# Catches` = n_rec,\n         `Catch %` = catch_perc,\n         `Exp # Catches` = ex_rec,\n         `Exp Catch %` = ex_catch_perc,\n         `CPOE` = cpoe) |>\n  gt() |>\n  tab_header(title = \"Top 10 receivers based on CPOE (minimum of 50 targets)\",\n             subtitle = \"Based on 2023-2024 regular season games accessed using nflreadr\") |>\n  tab_style(\n    style = list(\n      cell_borders(\n        sides = \"right\",\n        color = \"black\",\n        weight = px(3)\n      )\n    ),\n    # Where to place the thick border\n    locations = list(\n      cells_body(\n        columns = c(`# Targets`)\n      )\n    )\n  ) |>\n  # Which variables to color by\n  data_color(columns = c(`Catch %`,\n                         `Exp Catch %`,\n                         `CPOE`),\n             colors = scales::col_numeric(\n               palette = c(\"darkblue\", \"darkorange\"),\n               domain = NULL\n             ))\n```\n\n::: {.cell-output-display}\n```{=html}\n<div id=\"rpozwrutyb\" style=\"padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;\">\n<style>#rpozwrutyb table {\n  font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n}\n\n#rpozwrutyb thead, #rpozwrutyb tbody, #rpozwrutyb tfoot, #rpozwrutyb tr, #rpozwrutyb td, #rpozwrutyb th {\n  border-style: none;\n}\n\n#rpozwrutyb p {\n  margin: 0;\n  padding: 0;\n}\n\n#rpozwrutyb .gt_table {\n  display: table;\n  border-collapse: collapse;\n  line-height: normal;\n  margin-left: auto;\n  margin-right: auto;\n  color: #333333;\n  font-size: 16px;\n  font-weight: normal;\n  font-style: normal;\n  background-color: #FFFFFF;\n  width: auto;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #A8A8A8;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #A8A8A8;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n}\n\n#rpozwrutyb .gt_caption {\n  padding-top: 4px;\n  padding-bottom: 4px;\n}\n\n#rpozwrutyb .gt_title {\n  color: #333333;\n  font-size: 125%;\n  font-weight: initial;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-color: #FFFFFF;\n  border-bottom-width: 0;\n}\n\n#rpozwrutyb .gt_subtitle {\n  color: #333333;\n  font-size: 85%;\n  font-weight: initial;\n  padding-top: 3px;\n  padding-bottom: 5px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-color: #FFFFFF;\n  border-top-width: 0;\n}\n\n#rpozwrutyb .gt_heading {\n  background-color: #FFFFFF;\n  text-align: center;\n  border-bottom-color: #FFFFFF;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n}\n\n#rpozwrutyb .gt_bottom_border {\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#rpozwrutyb .gt_col_headings {\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n}\n\n#rpozwrutyb .gt_col_heading {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: normal;\n  text-transform: inherit;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 6px;\n  padding-left: 5px;\n  padding-right: 5px;\n  overflow-x: hidden;\n}\n\n#rpozwrutyb .gt_column_spanner_outer {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: normal;\n  text-transform: inherit;\n  padding-top: 0;\n  padding-bottom: 0;\n  padding-left: 4px;\n  padding-right: 4px;\n}\n\n#rpozwrutyb .gt_column_spanner_outer:first-child {\n  padding-left: 0;\n}\n\n#rpozwrutyb .gt_column_spanner_outer:last-child {\n  padding-right: 0;\n}\n\n#rpozwrutyb .gt_column_spanner {\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 5px;\n  overflow-x: hidden;\n  display: inline-block;\n  width: 100%;\n}\n\n#rpozwrutyb .gt_spanner_row {\n  border-bottom-style: hidden;\n}\n\n#rpozwrutyb .gt_group_heading {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: middle;\n  text-align: left;\n}\n\n#rpozwrutyb .gt_empty_group_heading {\n  padding: 0.5px;\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  vertical-align: middle;\n}\n\n#rpozwrutyb .gt_from_md > :first-child {\n  margin-top: 0;\n}\n\n#rpozwrutyb .gt_from_md > :last-child {\n  margin-bottom: 0;\n}\n\n#rpozwrutyb .gt_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  margin: 10px;\n  border-top-style: solid;\n  border-top-width: 1px;\n  border-top-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: middle;\n  overflow-x: hidden;\n}\n\n#rpozwrutyb .gt_stub {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-right-style: solid;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#rpozwrutyb .gt_stub_row_group {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-right-style: solid;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  padding-left: 5px;\n  padding-right: 5px;\n  vertical-align: top;\n}\n\n#rpozwrutyb .gt_row_group_first td {\n  border-top-width: 2px;\n}\n\n#rpozwrutyb .gt_row_group_first th {\n  border-top-width: 2px;\n}\n\n#rpozwrutyb .gt_summary_row {\n  color: #333333;\n  background-color: #FFFFFF;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#rpozwrutyb .gt_first_summary_row {\n  border-top-style: solid;\n  border-top-color: #D3D3D3;\n}\n\n#rpozwrutyb .gt_first_summary_row.thick {\n  border-top-width: 2px;\n}\n\n#rpozwrutyb .gt_last_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#rpozwrutyb .gt_grand_summary_row {\n  color: #333333;\n  background-color: #FFFFFF;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#rpozwrutyb .gt_first_grand_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-style: double;\n  border-top-width: 6px;\n  border-top-color: #D3D3D3;\n}\n\n#rpozwrutyb .gt_last_grand_summary_row_top {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-style: double;\n  border-bottom-width: 6px;\n  border-bottom-color: #D3D3D3;\n}\n\n#rpozwrutyb .gt_striped {\n  background-color: rgba(128, 128, 128, 0.05);\n}\n\n#rpozwrutyb .gt_table_body {\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#rpozwrutyb .gt_footnotes {\n  color: #333333;\n  background-color: #FFFFFF;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#rpozwrutyb .gt_footnote {\n  margin: 0px;\n  font-size: 90%;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#rpozwrutyb .gt_sourcenotes {\n  color: #333333;\n  background-color: #FFFFFF;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#rpozwrutyb .gt_sourcenote {\n  font-size: 90%;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#rpozwrutyb .gt_left {\n  text-align: left;\n}\n\n#rpozwrutyb .gt_center {\n  text-align: center;\n}\n\n#rpozwrutyb .gt_right {\n  text-align: right;\n  font-variant-numeric: tabular-nums;\n}\n\n#rpozwrutyb .gt_font_normal {\n  font-weight: normal;\n}\n\n#rpozwrutyb .gt_font_bold {\n  font-weight: bold;\n}\n\n#rpozwrutyb .gt_font_italic {\n  font-style: italic;\n}\n\n#rpozwrutyb .gt_super {\n  font-size: 65%;\n}\n\n#rpozwrutyb .gt_footnote_marks {\n  font-size: 75%;\n  vertical-align: 0.4em;\n  position: initial;\n}\n\n#rpozwrutyb .gt_asterisk {\n  font-size: 100%;\n  vertical-align: 0;\n}\n\n#rpozwrutyb .gt_indent_1 {\n  text-indent: 5px;\n}\n\n#rpozwrutyb .gt_indent_2 {\n  text-indent: 10px;\n}\n\n#rpozwrutyb .gt_indent_3 {\n  text-indent: 15px;\n}\n\n#rpozwrutyb .gt_indent_4 {\n  text-indent: 20px;\n}\n\n#rpozwrutyb .gt_indent_5 {\n  text-indent: 25px;\n}\n</style>\n<table class=\"gt_table\" data-quarto-disable-processing=\"false\" data-quarto-bootstrap=\"false\">\n  <thead>\n    <tr class=\"gt_heading\">\n      <td colspan=\"7\" class=\"gt_heading gt_title gt_font_normal\" style>Top 10 receivers based on CPOE (minimum of 50 targets)</td>\n    </tr>\n    <tr class=\"gt_heading\">\n      <td colspan=\"7\" class=\"gt_heading gt_subtitle gt_font_normal gt_bottom_border\" style>Based on 2023-2024 regular season games accessed using nflreadr</td>\n    </tr>\n    <tr class=\"gt_col_headings\">\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_left\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"Receiver_ID\">Receiver_ID</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"# Targets\"># Targets</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"# Catches\"># Catches</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"Catch %\">Catch %</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"Exp # Catches\">Exp # Catches</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"Exp Catch %\">Exp Catch %</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"CPOE\">CPOE</th>\n    </tr>\n  </thead>\n  <tbody class=\"gt_table_body\">\n    <tr><td headers=\"Receiver_ID\" class=\"gt_row gt_left\">C.Kmet_00-0036290</td>\n<td headers=\"# Targets\" class=\"gt_row gt_right\" style=\"border-right-width: 3px; border-right-style: solid; border-right-color: black;\">145</td>\n<td headers=\"# Catches\" class=\"gt_row gt_right\">120</td>\n<td headers=\"Catch %\" class=\"gt_row gt_right\" style=\"background-color: #AE495A; color: #FFFFFF;\">82.7586</td>\n<td headers=\"Exp # Catches\" class=\"gt_row gt_right\">98.0541</td>\n<td headers=\"Exp Catch %\" class=\"gt_row gt_right\" style=\"background-color: #923468; color: #FFFFFF;\">67.6235</td>\n<td headers=\"CPOE\" class=\"gt_row gt_right\" style=\"background-color: #FF8C00; color: #000000;\">15.1351</td></tr>\n    <tr><td headers=\"Receiver_ID\" class=\"gt_row gt_left\">K.Raymond_00-0032464</td>\n<td headers=\"# Targets\" class=\"gt_row gt_right\" style=\"border-right-width: 3px; border-right-style: solid; border-right-color: black;\">66</td>\n<td headers=\"# Catches\" class=\"gt_row gt_right\">52</td>\n<td headers=\"Catch %\" class=\"gt_row gt_right\" style=\"background-color: #802870; color: #FFFFFF;\">78.7879</td>\n<td headers=\"Exp # Catches\" class=\"gt_row gt_right\">42.2940</td>\n<td headers=\"Exp Catch %\" class=\"gt_row gt_right\" style=\"background-color: #5B137D; color: #FFFFFF;\">64.0818</td>\n<td headers=\"CPOE\" class=\"gt_row gt_right\" style=\"background-color: #EA7A2D; color: #FFFFFF;\">14.7061</td></tr>\n    <tr><td headers=\"Receiver_ID\" class=\"gt_row gt_left\">R.White_00-0037256</td>\n<td headers=\"# Targets\" class=\"gt_row gt_right\" style=\"border-right-width: 3px; border-right-style: solid; border-right-color: black;\">127</td>\n<td headers=\"# Catches\" class=\"gt_row gt_right\">115</td>\n<td headers=\"Catch %\" class=\"gt_row gt_right\" style=\"background-color: #FF8C00; color: #000000;\">90.5512</td>\n<td headers=\"Exp # Catches\" class=\"gt_row gt_right\">97.1515</td>\n<td headers=\"Exp Catch %\" class=\"gt_row gt_right\" style=\"background-color: #FF8C00; color: #000000;\">76.4973</td>\n<td headers=\"CPOE\" class=\"gt_row gt_right\" style=\"background-color: #CB6049; color: #FFFFFF;\">14.0539</td></tr>\n    <tr><td headers=\"Receiver_ID\" class=\"gt_row gt_left\">G.Kittle_00-0033288</td>\n<td headers=\"# Targets\" class=\"gt_row gt_right\" style=\"border-right-width: 3px; border-right-style: solid; border-right-color: black;\">184</td>\n<td headers=\"# Catches\" class=\"gt_row gt_right\">143</td>\n<td headers=\"Catch %\" class=\"gt_row gt_right\" style=\"background-color: #721F75; color: #FFFFFF;\">77.7174</td>\n<td headers=\"Exp # Catches\" class=\"gt_row gt_right\">118.9066</td>\n<td headers=\"Exp Catch %\" class=\"gt_row gt_right\" style=\"background-color: #65187A; color: #FFFFFF;\">64.6232</td>\n<td headers=\"CPOE\" class=\"gt_row gt_right\" style=\"background-color: #993965; color: #FFFFFF;\">13.0942</td></tr>\n    <tr><td headers=\"Receiver_ID\" class=\"gt_row gt_left\">D.Smith_00-0036912</td>\n<td headers=\"# Targets\" class=\"gt_row gt_right\" style=\"border-right-width: 3px; border-right-style: solid; border-right-color: black;\">201</td>\n<td headers=\"# Catches\" class=\"gt_row gt_right\">149</td>\n<td headers=\"Catch %\" class=\"gt_row gt_right\" style=\"background-color: #300387; color: #FFFFFF;\">74.1294</td>\n<td headers=\"Exp # Catches\" class=\"gt_row gt_right\">124.9528</td>\n<td headers=\"Exp Catch %\" class=\"gt_row gt_right\" style=\"background-color: #2C0287; color: #FFFFFF;\">62.1656</td>\n<td headers=\"CPOE\" class=\"gt_row gt_right\" style=\"background-color: #510D80; color: #FFFFFF;\">11.9638</td></tr>\n    <tr><td headers=\"Receiver_ID\" class=\"gt_row gt_left\">L.McConkey_00-0039915</td>\n<td headers=\"# Targets\" class=\"gt_row gt_right\" style=\"border-right-width: 3px; border-right-style: solid; border-right-color: black;\">112</td>\n<td headers=\"# Catches\" class=\"gt_row gt_right\">82</td>\n<td headers=\"Catch %\" class=\"gt_row gt_right\" style=\"background-color: #00008B; color: #FFFFFF;\">73.2143</td>\n<td headers=\"Exp # Catches\" class=\"gt_row gt_right\">68.8615</td>\n<td headers=\"Exp Catch %\" class=\"gt_row gt_right\" style=\"background-color: #00008B; color: #FFFFFF;\">61.4835</td>\n<td headers=\"CPOE\" class=\"gt_row gt_right\" style=\"background-color: #3A0585; color: #FFFFFF;\">11.7308</td></tr>\n    <tr><td headers=\"Receiver_ID\" class=\"gt_row gt_left\">K.Shakir_00-0037261</td>\n<td headers=\"# Targets\" class=\"gt_row gt_right\" style=\"border-right-width: 3px; border-right-style: solid; border-right-color: black;\">145</td>\n<td headers=\"# Catches\" class=\"gt_row gt_right\">115</td>\n<td headers=\"Catch %\" class=\"gt_row gt_right\" style=\"background-color: #862C6D; color: #FFFFFF;\">79.3103</td>\n<td headers=\"Exp # Catches\" class=\"gt_row gt_right\">98.0211</td>\n<td headers=\"Exp Catch %\" class=\"gt_row gt_right\" style=\"background-color: #923468; color: #FFFFFF;\">67.6007</td>\n<td headers=\"CPOE\" class=\"gt_row gt_right\" style=\"background-color: #370485; color: #FFFFFF;\">11.7096</td></tr>\n    <tr><td headers=\"Receiver_ID\" class=\"gt_row gt_left\">S.Perine_00-0033526</td>\n<td headers=\"# Targets\" class=\"gt_row gt_right\" style=\"border-right-width: 3px; border-right-style: solid; border-right-color: black;\">91</td>\n<td headers=\"# Catches\" class=\"gt_row gt_right\">78</td>\n<td headers=\"Catch %\" class=\"gt_row gt_right\" style=\"background-color: #CD6247; color: #FFFFFF;\">85.7143</td>\n<td headers=\"Exp # Catches\" class=\"gt_row gt_right\">67.4318</td>\n<td headers=\"Exp Catch %\" class=\"gt_row gt_right\" style=\"background-color: #E37435; color: #FFFFFF;\">74.1009</td>\n<td headers=\"CPOE\" class=\"gt_row gt_right\" style=\"background-color: #2A0288; color: #FFFFFF;\">11.6134</td></tr>\n    <tr><td headers=\"Receiver_ID\" class=\"gt_row gt_left\">M.Andrews_00-0034753</td>\n<td headers=\"# Targets\" class=\"gt_row gt_right\" style=\"border-right-width: 3px; border-right-style: solid; border-right-color: black;\">130</td>\n<td headers=\"# Catches\" class=\"gt_row gt_right\">100</td>\n<td headers=\"Catch %\" class=\"gt_row gt_right\" style=\"background-color: #661979; color: #FFFFFF;\">76.9231</td>\n<td headers=\"Exp # Catches\" class=\"gt_row gt_right\">84.9763</td>\n<td headers=\"Exp Catch %\" class=\"gt_row gt_right\" style=\"background-color: #711F75; color: #FFFFFF;\">65.3664</td>\n<td headers=\"CPOE\" class=\"gt_row gt_right\" style=\"background-color: #200189; color: #FFFFFF;\">11.5567</td></tr>\n    <tr><td headers=\"Receiver_ID\" class=\"gt_row gt_left\">A.Thielen_00-0030035</td>\n<td headers=\"# Targets\" class=\"gt_row gt_right\" style=\"border-right-width: 3px; border-right-style: solid; border-right-color: black;\">199</td>\n<td headers=\"# Catches\" class=\"gt_row gt_right\">151</td>\n<td headers=\"Catch %\" class=\"gt_row gt_right\" style=\"background-color: #56107E; color: #FFFFFF;\">75.8794</td>\n<td headers=\"Exp # Catches\" class=\"gt_row gt_right\">128.1946</td>\n<td headers=\"Exp Catch %\" class=\"gt_row gt_right\" style=\"background-color: #61167B; color: #FFFFFF;\">64.4194</td>\n<td headers=\"CPOE\" class=\"gt_row gt_right\" style=\"background-color: #00008B; color: #FFFFFF;\">11.4600</td></tr>\n  </tbody>\n  \n  \n</table>\n</div>\n```\n:::\n:::\n\n\n\nAnd again for opposing defenses:\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\ndef_summary <- nfl_passing_data |>\n  group_by(defteam) |>\n  summarize(n_pass = n(),\n            comps = sum(complete_pass),\n            comp_perc = mean(complete_pass),\n            ex_comps = sum(comp_prob),\n            ex_comp_perc = mean(comp_prob),\n            cpoe = mean(comp_resid),\n            .groups = \"drop\")\n\ndef_summary |>\n  # Sort by CPOE in ascending order:\n  arrange(cpoe) |>\n  # Round the various stats and multiple the %s by 100 for display reasons\n  mutate(comp_perc = round(comp_perc * 100, digits = 4),\n         ex_comps = round(ex_comps, digits = 4),\n         ex_comp_perc = round(ex_comp_perc * 100, digits = 4),\n         cpoe = round(cpoe * 100, digits = 4)) |>\n  # Rename the columns for display purposes:\n  rename(`Team` = defteam,\n         `# Passes` = n_pass,\n         `# Comps` = comps,\n         `Comp %` = comp_perc,\n         `Exp # Comps` = ex_comps,\n         `Exp Comp %` = ex_comp_perc,\n         `CPOE` = cpoe) |>\n  gt() |>\n  tab_header(title = \"Team defenses ranked based on CPOE\",\n             subtitle = \"Based on 2023-2024 regular season games accessed using nflreadr\") |>\n  tab_style(\n    style = list(\n      cell_borders(\n        sides = \"right\",\n        color = \"black\",\n        weight = px(3)\n      )\n    ),\n    # Where to place the thick border\n    locations = list(\n      cells_body(\n        columns = c(`# Passes`)\n      )\n    )\n  ) |>\n  # Which variables to color by\n  data_color(columns = c(`Comp %`,\n                         `Exp Comp %`,\n                         `CPOE`),\n             colors = scales::col_numeric(\n               palette = c(\"darkblue\", \"darkorange\"),\n               domain = NULL\n             ))\n```\n\n::: {.cell-output-display}\n```{=html}\n<div id=\"arhxemctcz\" style=\"padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;\">\n<style>#arhxemctcz table {\n  font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n}\n\n#arhxemctcz thead, #arhxemctcz tbody, #arhxemctcz tfoot, #arhxemctcz tr, #arhxemctcz td, #arhxemctcz th {\n  border-style: none;\n}\n\n#arhxemctcz p {\n  margin: 0;\n  padding: 0;\n}\n\n#arhxemctcz .gt_table {\n  display: table;\n  border-collapse: collapse;\n  line-height: normal;\n  margin-left: auto;\n  margin-right: auto;\n  color: #333333;\n  font-size: 16px;\n  font-weight: normal;\n  font-style: normal;\n  background-color: #FFFFFF;\n  width: auto;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #A8A8A8;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #A8A8A8;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n}\n\n#arhxemctcz .gt_caption {\n  padding-top: 4px;\n  padding-bottom: 4px;\n}\n\n#arhxemctcz .gt_title {\n  color: #333333;\n  font-size: 125%;\n  font-weight: initial;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-color: #FFFFFF;\n  border-bottom-width: 0;\n}\n\n#arhxemctcz .gt_subtitle {\n  color: #333333;\n  font-size: 85%;\n  font-weight: initial;\n  padding-top: 3px;\n  padding-bottom: 5px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-color: #FFFFFF;\n  border-top-width: 0;\n}\n\n#arhxemctcz .gt_heading {\n  background-color: #FFFFFF;\n  text-align: center;\n  border-bottom-color: #FFFFFF;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n}\n\n#arhxemctcz .gt_bottom_border {\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#arhxemctcz .gt_col_headings {\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n}\n\n#arhxemctcz .gt_col_heading {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: normal;\n  text-transform: inherit;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 6px;\n  padding-left: 5px;\n  padding-right: 5px;\n  overflow-x: hidden;\n}\n\n#arhxemctcz .gt_column_spanner_outer {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: normal;\n  text-transform: inherit;\n  padding-top: 0;\n  padding-bottom: 0;\n  padding-left: 4px;\n  padding-right: 4px;\n}\n\n#arhxemctcz .gt_column_spanner_outer:first-child {\n  padding-left: 0;\n}\n\n#arhxemctcz .gt_column_spanner_outer:last-child {\n  padding-right: 0;\n}\n\n#arhxemctcz .gt_column_spanner {\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 5px;\n  overflow-x: hidden;\n  display: inline-block;\n  width: 100%;\n}\n\n#arhxemctcz .gt_spanner_row {\n  border-bottom-style: hidden;\n}\n\n#arhxemctcz .gt_group_heading {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: middle;\n  text-align: left;\n}\n\n#arhxemctcz .gt_empty_group_heading {\n  padding: 0.5px;\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  vertical-align: middle;\n}\n\n#arhxemctcz .gt_from_md > :first-child {\n  margin-top: 0;\n}\n\n#arhxemctcz .gt_from_md > :last-child {\n  margin-bottom: 0;\n}\n\n#arhxemctcz .gt_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  margin: 10px;\n  border-top-style: solid;\n  border-top-width: 1px;\n  border-top-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: middle;\n  overflow-x: hidden;\n}\n\n#arhxemctcz .gt_stub {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-right-style: solid;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#arhxemctcz .gt_stub_row_group {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-right-style: solid;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  padding-left: 5px;\n  padding-right: 5px;\n  vertical-align: top;\n}\n\n#arhxemctcz .gt_row_group_first td {\n  border-top-width: 2px;\n}\n\n#arhxemctcz .gt_row_group_first th {\n  border-top-width: 2px;\n}\n\n#arhxemctcz .gt_summary_row {\n  color: #333333;\n  background-color: #FFFFFF;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#arhxemctcz .gt_first_summary_row {\n  border-top-style: solid;\n  border-top-color: #D3D3D3;\n}\n\n#arhxemctcz .gt_first_summary_row.thick {\n  border-top-width: 2px;\n}\n\n#arhxemctcz .gt_last_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#arhxemctcz .gt_grand_summary_row {\n  color: #333333;\n  background-color: #FFFFFF;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#arhxemctcz .gt_first_grand_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-style: double;\n  border-top-width: 6px;\n  border-top-color: #D3D3D3;\n}\n\n#arhxemctcz .gt_last_grand_summary_row_top {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-style: double;\n  border-bottom-width: 6px;\n  border-bottom-color: #D3D3D3;\n}\n\n#arhxemctcz .gt_striped {\n  background-color: rgba(128, 128, 128, 0.05);\n}\n\n#arhxemctcz .gt_table_body {\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#arhxemctcz .gt_footnotes {\n  color: #333333;\n  background-color: #FFFFFF;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#arhxemctcz .gt_footnote {\n  margin: 0px;\n  font-size: 90%;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#arhxemctcz .gt_sourcenotes {\n  color: #333333;\n  background-color: #FFFFFF;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#arhxemctcz .gt_sourcenote {\n  font-size: 90%;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#arhxemctcz .gt_left {\n  text-align: left;\n}\n\n#arhxemctcz .gt_center {\n  text-align: center;\n}\n\n#arhxemctcz .gt_right {\n  text-align: right;\n  font-variant-numeric: tabular-nums;\n}\n\n#arhxemctcz .gt_font_normal {\n  font-weight: normal;\n}\n\n#arhxemctcz .gt_font_bold {\n  font-weight: bold;\n}\n\n#arhxemctcz .gt_font_italic {\n  font-style: italic;\n}\n\n#arhxemctcz .gt_super {\n  font-size: 65%;\n}\n\n#arhxemctcz .gt_footnote_marks {\n  font-size: 75%;\n  vertical-align: 0.4em;\n  position: initial;\n}\n\n#arhxemctcz .gt_asterisk {\n  font-size: 100%;\n  vertical-align: 0;\n}\n\n#arhxemctcz .gt_indent_1 {\n  text-indent: 5px;\n}\n\n#arhxemctcz .gt_indent_2 {\n  text-indent: 10px;\n}\n\n#arhxemctcz .gt_indent_3 {\n  text-indent: 15px;\n}\n\n#arhxemctcz .gt_indent_4 {\n  text-indent: 20px;\n}\n\n#arhxemctcz .gt_indent_5 {\n  text-indent: 25px;\n}\n</style>\n<table class=\"gt_table\" data-quarto-disable-processing=\"false\" data-quarto-bootstrap=\"false\">\n  <thead>\n    <tr class=\"gt_heading\">\n      <td colspan=\"7\" class=\"gt_heading gt_title gt_font_normal\" style>Team defenses ranked based on CPOE</td>\n    </tr>\n    <tr class=\"gt_heading\">\n      <td colspan=\"7\" class=\"gt_heading gt_subtitle gt_font_normal gt_bottom_border\" style>Based on 2023-2024 regular season games accessed using nflreadr</td>\n    </tr>\n    <tr class=\"gt_col_headings\">\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_left\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"Team\">Team</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"# Passes\"># Passes</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"# Comps\"># Comps</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"Comp %\">Comp %</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"Exp # Comps\">Exp # Comps</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"Exp Comp %\">Exp Comp %</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"CPOE\">CPOE</th>\n    </tr>\n  </thead>\n  <tbody class=\"gt_table_body\">\n    <tr><td headers=\"Team\" class=\"gt_row gt_left\">NO</td>\n<td headers=\"# Passes\" class=\"gt_row gt_right\" style=\"border-right-width: 3px; border-right-style: solid; border-right-color: black;\">1145</td>\n<td headers=\"# Comps\" class=\"gt_row gt_right\">699</td>\n<td headers=\"Comp %\" class=\"gt_row gt_right\" style=\"background-color: #4D0C81; color: #FFFFFF;\">61.0480</td>\n<td headers=\"Exp # Comps\" class=\"gt_row gt_right\">741.1526</td>\n<td headers=\"Exp Comp %\" class=\"gt_row gt_right\" style=\"background-color: #9B3B64; color: #FFFFFF;\">64.7295</td>\n<td headers=\"CPOE\" class=\"gt_row gt_right\" style=\"background-color: #00008B; color: #FFFFFF;\">-3.6814</td></tr>\n    <tr><td headers=\"Team\" class=\"gt_row gt_left\">CLE</td>\n<td headers=\"# Passes\" class=\"gt_row gt_right\" style=\"border-right-width: 3px; border-right-style: solid; border-right-color: black;\">1040</td>\n<td headers=\"# Comps\" class=\"gt_row gt_right\">623</td>\n<td headers=\"Comp %\" class=\"gt_row gt_right\" style=\"background-color: #00008B; color: #FFFFFF;\">59.9038</td>\n<td headers=\"Exp # Comps\" class=\"gt_row gt_right\">659.3903</td>\n<td headers=\"Exp Comp %\" class=\"gt_row gt_right\" style=\"background-color: #4D0C81; color: #FFFFFF;\">63.4029</td>\n<td headers=\"CPOE\" class=\"gt_row gt_right\" style=\"background-color: #220189; color: #FFFFFF;\">-3.4991</td></tr>\n    <tr><td headers=\"Team\" class=\"gt_row gt_left\">NYJ</td>\n<td headers=\"# Passes\" class=\"gt_row gt_right\" style=\"border-right-width: 3px; border-right-style: solid; border-right-color: black;\">1039</td>\n<td headers=\"# Comps\" class=\"gt_row gt_right\">640</td>\n<td headers=\"Comp %\" class=\"gt_row gt_right\" style=\"background-color: #5F157C; color: #FFFFFF;\">61.5977</td>\n<td headers=\"Exp # Comps\" class=\"gt_row gt_right\">675.6156</td>\n<td headers=\"Exp Comp %\" class=\"gt_row gt_right\" style=\"background-color: #A9455D; color: #FFFFFF;\">65.0256</td>\n<td headers=\"CPOE\" class=\"gt_row gt_right\" style=\"background-color: #290288; color: #FFFFFF;\">-3.4279</td></tr>\n    <tr><td headers=\"Team\" class=\"gt_row gt_left\">BAL</td>\n<td headers=\"# Passes\" class=\"gt_row gt_right\" style=\"border-right-width: 3px; border-right-style: solid; border-right-color: black;\">1257</td>\n<td headers=\"# Comps\" class=\"gt_row gt_right\">780</td>\n<td headers=\"Comp %\" class=\"gt_row gt_right\" style=\"background-color: #6C1C77; color: #FFFFFF;\">62.0525</td>\n<td headers=\"Exp # Comps\" class=\"gt_row gt_right\">814.9431</td>\n<td headers=\"Exp Comp %\" class=\"gt_row gt_right\" style=\"background-color: #A03E61; color: #FFFFFF;\">64.8324</td>\n<td headers=\"CPOE\" class=\"gt_row gt_right\" style=\"background-color: #520E7F; color: #FFFFFF;\">-2.7799</td></tr>\n    <tr><td headers=\"Team\" class=\"gt_row gt_left\">PIT</td>\n<td headers=\"# Passes\" class=\"gt_row gt_right\" style=\"border-right-width: 3px; border-right-style: solid; border-right-color: black;\">1148</td>\n<td headers=\"# Comps\" class=\"gt_row gt_right\">730</td>\n<td headers=\"Comp %\" class=\"gt_row gt_right\" style=\"background-color: #913469; color: #FFFFFF;\">63.5889</td>\n<td headers=\"Exp # Comps\" class=\"gt_row gt_right\">748.4911</td>\n<td headers=\"Exp Comp %\" class=\"gt_row gt_right\" style=\"background-color: #B24C58; color: #FFFFFF;\">65.1996</td>\n<td headers=\"CPOE\" class=\"gt_row gt_right\" style=\"background-color: #802870; color: #FFFFFF;\">-1.6107</td></tr>\n    <tr><td headers=\"Team\" class=\"gt_row gt_left\">LA</td>\n<td headers=\"# Passes\" class=\"gt_row gt_right\" style=\"border-right-width: 3px; border-right-style: solid; border-right-color: black;\">1141</td>\n<td headers=\"# Comps\" class=\"gt_row gt_right\">721</td>\n<td headers=\"Comp %\" class=\"gt_row gt_right\" style=\"background-color: #882D6D; color: #FFFFFF;\">63.1902</td>\n<td headers=\"Exp # Comps\" class=\"gt_row gt_right\">736.0505</td>\n<td headers=\"Exp Comp %\" class=\"gt_row gt_right\" style=\"background-color: #903369; color: #FFFFFF;\">64.5092</td>\n<td headers=\"CPOE\" class=\"gt_row gt_right\" style=\"background-color: #8A2E6C; color: #FFFFFF;\">-1.3191</td></tr>\n    <tr><td headers=\"Team\" class=\"gt_row gt_left\">PHI</td>\n<td headers=\"# Passes\" class=\"gt_row gt_right\" style=\"border-right-width: 3px; border-right-style: solid; border-right-color: black;\">1189</td>\n<td headers=\"# Comps\" class=\"gt_row gt_right\">762</td>\n<td headers=\"Comp %\" class=\"gt_row gt_right\" style=\"background-color: #9C3C63; color: #FFFFFF;\">64.0875</td>\n<td headers=\"Exp # Comps\" class=\"gt_row gt_right\">775.4755</td>\n<td headers=\"Exp Comp %\" class=\"gt_row gt_right\" style=\"background-color: #B34C58; color: #FFFFFF;\">65.2208</td>\n<td headers=\"CPOE\" class=\"gt_row gt_right\" style=\"background-color: #903369; color: #FFFFFF;\">-1.1334</td></tr>\n    <tr><td headers=\"Team\" class=\"gt_row gt_left\">LAC</td>\n<td headers=\"# Passes\" class=\"gt_row gt_right\" style=\"border-right-width: 3px; border-right-style: solid; border-right-color: black;\">1163</td>\n<td headers=\"# Comps\" class=\"gt_row gt_right\">756</td>\n<td headers=\"Comp %\" class=\"gt_row gt_right\" style=\"background-color: #B04A59; color: #FFFFFF;\">65.0043</td>\n<td headers=\"Exp # Comps\" class=\"gt_row gt_right\">763.7140</td>\n<td headers=\"Exp Comp %\" class=\"gt_row gt_right\" style=\"background-color: #C75D4B; color: #FFFFFF;\">65.6676</td>\n<td headers=\"CPOE\" class=\"gt_row gt_right\" style=\"background-color: #9E3D62; color: #FFFFFF;\">-0.6633</td></tr>\n    <tr><td headers=\"Team\" class=\"gt_row gt_left\">DET</td>\n<td headers=\"# Passes\" class=\"gt_row gt_right\" style=\"border-right-width: 3px; border-right-style: solid; border-right-color: black;\">1194</td>\n<td headers=\"# Comps\" class=\"gt_row gt_right\">744</td>\n<td headers=\"Comp %\" class=\"gt_row gt_right\" style=\"background-color: #732075; color: #FFFFFF;\">62.3116</td>\n<td headers=\"Exp # Comps\" class=\"gt_row gt_right\">750.9671</td>\n<td headers=\"Exp Comp %\" class=\"gt_row gt_right\" style=\"background-color: #00008B; color: #FFFFFF;\">62.8951</td>\n<td headers=\"CPOE\" class=\"gt_row gt_right\" style=\"background-color: #A13F61; color: #FFFFFF;\">-0.5835</td></tr>\n    <tr><td headers=\"Team\" class=\"gt_row gt_left\">KC</td>\n<td headers=\"# Passes\" class=\"gt_row gt_right\" style=\"border-right-width: 3px; border-right-style: solid; border-right-color: black;\">1119</td>\n<td headers=\"# Comps\" class=\"gt_row gt_right\">715</td>\n<td headers=\"Comp %\" class=\"gt_row gt_right\" style=\"background-color: #983965; color: #FFFFFF;\">63.8963</td>\n<td headers=\"Exp # Comps\" class=\"gt_row gt_right\">720.1965</td>\n<td headers=\"Exp Comp %\" class=\"gt_row gt_right\" style=\"background-color: #892E6C; color: #FFFFFF;\">64.3607</td>\n<td headers=\"CPOE\" class=\"gt_row gt_right\" style=\"background-color: #A4425F; color: #FFFFFF;\">-0.4644</td></tr>\n    <tr><td headers=\"Team\" class=\"gt_row gt_left\">WAS</td>\n<td headers=\"# Passes\" class=\"gt_row gt_right\" style=\"border-right-width: 3px; border-right-style: solid; border-right-color: black;\">1090</td>\n<td headers=\"# Comps\" class=\"gt_row gt_right\">703</td>\n<td headers=\"Comp %\" class=\"gt_row gt_right\" style=\"background-color: #A5425F; color: #FFFFFF;\">64.4954</td>\n<td headers=\"Exp # Comps\" class=\"gt_row gt_right\">707.7514</td>\n<td headers=\"Exp Comp %\" class=\"gt_row gt_right\" style=\"background-color: #A5425F; color: #FFFFFF;\">64.9313</td>\n<td headers=\"CPOE\" class=\"gt_row gt_right\" style=\"background-color: #A5425F; color: #FFFFFF;\">-0.4359</td></tr>\n    <tr><td headers=\"Team\" class=\"gt_row gt_left\">LV</td>\n<td headers=\"# Passes\" class=\"gt_row gt_right\" style=\"border-right-width: 3px; border-right-style: solid; border-right-color: black;\">1117</td>\n<td headers=\"# Comps\" class=\"gt_row gt_right\">746</td>\n<td headers=\"Comp %\" class=\"gt_row gt_right\" style=\"background-color: #D46742; color: #FFFFFF;\">66.7860</td>\n<td headers=\"Exp # Comps\" class=\"gt_row gt_right\">747.6657</td>\n<td headers=\"Exp Comp %\" class=\"gt_row gt_right\" style=\"background-color: #FF8C00; color: #000000;\">66.9352</td>\n<td headers=\"CPOE\" class=\"gt_row gt_right\" style=\"background-color: #AE495A; color: #FFFFFF;\">-0.1491</td></tr>\n    <tr><td headers=\"Team\" class=\"gt_row gt_left\">HOU</td>\n<td headers=\"# Passes\" class=\"gt_row gt_right\" style=\"border-right-width: 3px; border-right-style: solid; border-right-color: black;\">1118</td>\n<td headers=\"# Comps\" class=\"gt_row gt_right\">708</td>\n<td headers=\"Comp %\" class=\"gt_row gt_right\" style=\"background-color: #8B306B; color: #FFFFFF;\">63.3274</td>\n<td headers=\"Exp # Comps\" class=\"gt_row gt_right\">709.6572</td>\n<td headers=\"Exp Comp %\" class=\"gt_row gt_right\" style=\"background-color: #530E7F; color: #FFFFFF;\">63.4756</td>\n<td headers=\"CPOE\" class=\"gt_row gt_right\" style=\"background-color: #AE495A; color: #FFFFFF;\">-0.1482</td></tr>\n    <tr><td headers=\"Team\" class=\"gt_row gt_left\">NE</td>\n<td headers=\"# Passes\" class=\"gt_row gt_right\" style=\"border-right-width: 3px; border-right-style: solid; border-right-color: black;\">1105</td>\n<td headers=\"# Comps\" class=\"gt_row gt_right\">716</td>\n<td headers=\"Comp %\" class=\"gt_row gt_right\" style=\"background-color: #AB475C; color: #FFFFFF;\">64.7964</td>\n<td headers=\"Exp # Comps\" class=\"gt_row gt_right\">715.9658</td>\n<td headers=\"Exp Comp %\" class=\"gt_row gt_right\" style=\"background-color: #9E3D62; color: #FFFFFF;\">64.7933</td>\n<td headers=\"CPOE\" class=\"gt_row gt_right\" style=\"background-color: #B24C58; color: #FFFFFF;\">0.0031</td></tr>\n    <tr><td headers=\"Team\" class=\"gt_row gt_left\">SEA</td>\n<td headers=\"# Passes\" class=\"gt_row gt_right\" style=\"border-right-width: 3px; border-right-style: solid; border-right-color: black;\">1152</td>\n<td headers=\"# Comps\" class=\"gt_row gt_right\">761</td>\n<td headers=\"Comp %\" class=\"gt_row gt_right\" style=\"background-color: #C55B4C; color: #FFFFFF;\">66.0590</td>\n<td headers=\"Exp # Comps\" class=\"gt_row gt_right\">760.2891</td>\n<td headers=\"Exp Comp %\" class=\"gt_row gt_right\" style=\"background-color: #D66940; color: #FFFFFF;\">65.9973</td>\n<td headers=\"CPOE\" class=\"gt_row gt_right\" style=\"background-color: #B44D57; color: #FFFFFF;\">0.0617</td></tr>\n    <tr><td headers=\"Team\" class=\"gt_row gt_left\">DAL</td>\n<td headers=\"# Passes\" class=\"gt_row gt_right\" style=\"border-right-width: 3px; border-right-style: solid; border-right-color: black;\">1014</td>\n<td headers=\"# Comps\" class=\"gt_row gt_right\">657</td>\n<td headers=\"Comp %\" class=\"gt_row gt_right\" style=\"background-color: #AB475C; color: #FFFFFF;\">64.7929</td>\n<td headers=\"Exp # Comps\" class=\"gt_row gt_right\">655.2981</td>\n<td headers=\"Exp Comp %\" class=\"gt_row gt_right\" style=\"background-color: #963766; color: #FFFFFF;\">64.6251</td>\n<td headers=\"CPOE\" class=\"gt_row gt_right\" style=\"background-color: #B75055; color: #FFFFFF;\">0.1678</td></tr>\n    <tr><td headers=\"Team\" class=\"gt_row gt_left\">CHI</td>\n<td headers=\"# Passes\" class=\"gt_row gt_right\" style=\"border-right-width: 3px; border-right-style: solid; border-right-color: black;\">1119</td>\n<td headers=\"# Comps\" class=\"gt_row gt_right\">735</td>\n<td headers=\"Comp %\" class=\"gt_row gt_right\" style=\"background-color: #BE5551; color: #FFFFFF;\">65.6836</td>\n<td headers=\"Exp # Comps\" class=\"gt_row gt_right\">732.3731</td>\n<td headers=\"Exp Comp %\" class=\"gt_row gt_right\" style=\"background-color: #BD5552; color: #FFFFFF;\">65.4489</td>\n<td headers=\"CPOE\" class=\"gt_row gt_right\" style=\"background-color: #B95154; color: #FFFFFF;\">0.2348</td></tr>\n    <tr><td headers=\"Team\" class=\"gt_row gt_left\">MIA</td>\n<td headers=\"# Passes\" class=\"gt_row gt_right\" style=\"border-right-width: 3px; border-right-style: solid; border-right-color: black;\">1134</td>\n<td headers=\"# Comps\" class=\"gt_row gt_right\">745</td>\n<td headers=\"Comp %\" class=\"gt_row gt_right\" style=\"background-color: #BE5551; color: #FFFFFF;\">65.6966</td>\n<td headers=\"Exp # Comps\" class=\"gt_row gt_right\">740.9915</td>\n<td headers=\"Exp Comp %\" class=\"gt_row gt_right\" style=\"background-color: #B85155; color: #FFFFFF;\">65.3432</td>\n<td headers=\"CPOE\" class=\"gt_row gt_right\" style=\"background-color: #BC5452; color: #FFFFFF;\">0.3535</td></tr>\n    <tr><td headers=\"Team\" class=\"gt_row gt_left\">NYG</td>\n<td headers=\"# Passes\" class=\"gt_row gt_right\" style=\"border-right-width: 3px; border-right-style: solid; border-right-color: black;\">1082</td>\n<td headers=\"# Comps\" class=\"gt_row gt_right\">720</td>\n<td headers=\"Comp %\" class=\"gt_row gt_right\" style=\"background-color: #CF6346; color: #FFFFFF;\">66.5434</td>\n<td headers=\"Exp # Comps\" class=\"gt_row gt_right\">715.0393</td>\n<td headers=\"Exp Comp %\" class=\"gt_row gt_right\" style=\"background-color: #DA6C3D; color: #FFFFFF;\">66.0850</td>\n<td headers=\"CPOE\" class=\"gt_row gt_right\" style=\"background-color: #BF5650; color: #FFFFFF;\">0.4585</td></tr>\n    <tr><td headers=\"Team\" class=\"gt_row gt_left\">CAR</td>\n<td headers=\"# Passes\" class=\"gt_row gt_right\" style=\"border-right-width: 3px; border-right-style: solid; border-right-color: black;\">1008</td>\n<td headers=\"# Comps\" class=\"gt_row gt_right\">669</td>\n<td headers=\"Comp %\" class=\"gt_row gt_right\" style=\"background-color: #CB6048; color: #FFFFFF;\">66.3690</td>\n<td headers=\"Exp # Comps\" class=\"gt_row gt_right\">663.5180</td>\n<td headers=\"Exp Comp %\" class=\"gt_row gt_right\" style=\"background-color: #CE6246; color: #FFFFFF;\">65.8252</td>\n<td headers=\"CPOE\" class=\"gt_row gt_right\" style=\"background-color: #C2584F; color: #FFFFFF;\">0.5439</td></tr>\n    <tr><td headers=\"Team\" class=\"gt_row gt_left\">SF</td>\n<td headers=\"# Passes\" class=\"gt_row gt_right\" style=\"border-right-width: 3px; border-right-style: solid; border-right-color: black;\">1132</td>\n<td headers=\"# Comps\" class=\"gt_row gt_right\">748</td>\n<td headers=\"Comp %\" class=\"gt_row gt_right\" style=\"background-color: #C65B4C; color: #FFFFFF;\">66.0777</td>\n<td headers=\"Exp # Comps\" class=\"gt_row gt_right\">741.1312</td>\n<td headers=\"Exp Comp %\" class=\"gt_row gt_right\" style=\"background-color: #BE5551; color: #FFFFFF;\">65.4710</td>\n<td headers=\"CPOE\" class=\"gt_row gt_right\" style=\"background-color: #C45A4D; color: #FFFFFF;\">0.6068</td></tr>\n    <tr><td headers=\"Team\" class=\"gt_row gt_left\">JAX</td>\n<td headers=\"# Passes\" class=\"gt_row gt_right\" style=\"border-right-width: 3px; border-right-style: solid; border-right-color: black;\">1196</td>\n<td headers=\"# Comps\" class=\"gt_row gt_right\">793</td>\n<td headers=\"Comp %\" class=\"gt_row gt_right\" style=\"background-color: #CA5F49; color: #FFFFFF;\">66.3043</td>\n<td headers=\"Exp # Comps\" class=\"gt_row gt_right\">784.0176</td>\n<td headers=\"Exp Comp %\" class=\"gt_row gt_right\" style=\"background-color: #C2584F; color: #FFFFFF;\">65.5533</td>\n<td headers=\"CPOE\" class=\"gt_row gt_right\" style=\"background-color: #C85D4B; color: #FFFFFF;\">0.7510</td></tr>\n    <tr><td headers=\"Team\" class=\"gt_row gt_left\">DEN</td>\n<td headers=\"# Passes\" class=\"gt_row gt_right\" style=\"border-right-width: 3px; border-right-style: solid; border-right-color: black;\">1173</td>\n<td headers=\"# Comps\" class=\"gt_row gt_right\">775</td>\n<td headers=\"Comp %\" class=\"gt_row gt_right\" style=\"background-color: #C55B4C; color: #FFFFFF;\">66.0699</td>\n<td headers=\"Exp # Comps\" class=\"gt_row gt_right\">764.9314</td>\n<td headers=\"Exp Comp %\" class=\"gt_row gt_right\" style=\"background-color: #B24C58; color: #FFFFFF;\">65.2115</td>\n<td headers=\"CPOE\" class=\"gt_row gt_right\" style=\"background-color: #CB6049; color: #FFFFFF;\">0.8584</td></tr>\n    <tr><td headers=\"Team\" class=\"gt_row gt_left\">ATL</td>\n<td headers=\"# Passes\" class=\"gt_row gt_right\" style=\"border-right-width: 3px; border-right-style: solid; border-right-color: black;\">1124</td>\n<td headers=\"# Comps\" class=\"gt_row gt_right\">744</td>\n<td headers=\"Comp %\" class=\"gt_row gt_right\" style=\"background-color: #C85D4B; color: #FFFFFF;\">66.1922</td>\n<td headers=\"Exp # Comps\" class=\"gt_row gt_right\">731.5522</td>\n<td headers=\"Exp Comp %\" class=\"gt_row gt_right\" style=\"background-color: #AC475B; color: #FFFFFF;\">65.0847</td>\n<td headers=\"CPOE\" class=\"gt_row gt_right\" style=\"background-color: #D26544; color: #FFFFFF;\">1.1075</td></tr>\n    <tr><td headers=\"Team\" class=\"gt_row gt_left\">GB</td>\n<td headers=\"# Passes\" class=\"gt_row gt_right\" style=\"border-right-width: 3px; border-right-style: solid; border-right-color: black;\">1083</td>\n<td headers=\"# Comps\" class=\"gt_row gt_right\">723</td>\n<td headers=\"Comp %\" class=\"gt_row gt_right\" style=\"background-color: #D36743; color: #FFFFFF;\">66.7590</td>\n<td headers=\"Exp # Comps\" class=\"gt_row gt_right\">710.5881</td>\n<td headers=\"Exp Comp %\" class=\"gt_row gt_right\" style=\"background-color: #C55B4D; color: #FFFFFF;\">65.6129</td>\n<td headers=\"CPOE\" class=\"gt_row gt_right\" style=\"background-color: #D36643; color: #FFFFFF;\">1.1461</td></tr>\n    <tr><td headers=\"Team\" class=\"gt_row gt_left\">BUF</td>\n<td headers=\"# Passes\" class=\"gt_row gt_right\" style=\"border-right-width: 3px; border-right-style: solid; border-right-color: black;\">1124</td>\n<td headers=\"# Comps\" class=\"gt_row gt_right\">759</td>\n<td headers=\"Comp %\" class=\"gt_row gt_right\" style=\"background-color: #E27336; color: #FFFFFF;\">67.5267</td>\n<td headers=\"Exp # Comps\" class=\"gt_row gt_right\">742.8475</td>\n<td headers=\"Exp Comp %\" class=\"gt_row gt_right\" style=\"background-color: #DA6C3D; color: #FFFFFF;\">66.0896</td>\n<td headers=\"CPOE\" class=\"gt_row gt_right\" style=\"background-color: #DB6D3C; color: #FFFFFF;\">1.4371</td></tr>\n    <tr><td headers=\"Team\" class=\"gt_row gt_left\">TEN</td>\n<td headers=\"# Passes\" class=\"gt_row gt_right\" style=\"border-right-width: 3px; border-right-style: solid; border-right-color: black;\">1041</td>\n<td headers=\"# Comps\" class=\"gt_row gt_right\">701</td>\n<td headers=\"Comp %\" class=\"gt_row gt_right\" style=\"background-color: #DF7039; color: #FFFFFF;\">67.3391</td>\n<td headers=\"Exp # Comps\" class=\"gt_row gt_right\">684.8598</td>\n<td headers=\"Exp Comp %\" class=\"gt_row gt_right\" style=\"background-color: #CC6147; color: #FFFFFF;\">65.7886</td>\n<td headers=\"CPOE\" class=\"gt_row gt_right\" style=\"background-color: #DE7039; color: #FFFFFF;\">1.5504</td></tr>\n    <tr><td headers=\"Team\" class=\"gt_row gt_left\">TB</td>\n<td headers=\"# Passes\" class=\"gt_row gt_right\" style=\"border-right-width: 3px; border-right-style: solid; border-right-color: black;\">1235</td>\n<td headers=\"# Comps\" class=\"gt_row gt_right\">822</td>\n<td headers=\"Comp %\" class=\"gt_row gt_right\" style=\"background-color: #CF6346; color: #FFFFFF;\">66.5587</td>\n<td headers=\"Exp # Comps\" class=\"gt_row gt_right\">802.8306</td>\n<td headers=\"Exp Comp %\" class=\"gt_row gt_right\" style=\"background-color: #A9455D; color: #FFFFFF;\">65.0065</td>\n<td headers=\"CPOE\" class=\"gt_row gt_right\" style=\"background-color: #DE7039; color: #FFFFFF;\">1.5522</td></tr>\n    <tr><td headers=\"Team\" class=\"gt_row gt_left\">CIN</td>\n<td headers=\"# Passes\" class=\"gt_row gt_right\" style=\"border-right-width: 3px; border-right-style: solid; border-right-color: black;\">1124</td>\n<td headers=\"# Comps\" class=\"gt_row gt_right\">736</td>\n<td headers=\"Comp %\" class=\"gt_row gt_right\" style=\"background-color: #B95254; color: #FFFFFF;\">65.4804</td>\n<td headers=\"Exp # Comps\" class=\"gt_row gt_right\">718.5373</td>\n<td headers=\"Exp Comp %\" class=\"gt_row gt_right\" style=\"background-color: #711E76; color: #FFFFFF;\">63.9268</td>\n<td headers=\"CPOE\" class=\"gt_row gt_right\" style=\"background-color: #DE7039; color: #FFFFFF;\">1.5536</td></tr>\n    <tr><td headers=\"Team\" class=\"gt_row gt_left\">IND</td>\n<td headers=\"# Passes\" class=\"gt_row gt_right\" style=\"border-right-width: 3px; border-right-style: solid; border-right-color: black;\">1105</td>\n<td headers=\"# Comps\" class=\"gt_row gt_right\">748</td>\n<td headers=\"Comp %\" class=\"gt_row gt_right\" style=\"background-color: #E57632; color: #FFFFFF;\">67.6923</td>\n<td headers=\"Exp # Comps\" class=\"gt_row gt_right\">724.5386</td>\n<td headers=\"Exp Comp %\" class=\"gt_row gt_right\" style=\"background-color: #C3594E; color: #FFFFFF;\">65.5691</td>\n<td headers=\"CPOE\" class=\"gt_row gt_right\" style=\"background-color: #EE7D28; color: #FFFFFF;\">2.1232</td></tr>\n    <tr><td headers=\"Team\" class=\"gt_row gt_left\">MIN</td>\n<td headers=\"# Passes\" class=\"gt_row gt_right\" style=\"border-right-width: 3px; border-right-style: solid; border-right-color: black;\">1237</td>\n<td headers=\"# Comps\" class=\"gt_row gt_right\">841</td>\n<td headers=\"Comp %\" class=\"gt_row gt_right\" style=\"background-color: #EB7B2C; color: #FFFFFF;\">67.9871</td>\n<td headers=\"Exp # Comps\" class=\"gt_row gt_right\">808.1054</td>\n<td headers=\"Exp Comp %\" class=\"gt_row gt_right\" style=\"background-color: #B85055; color: #FFFFFF;\">65.3278</td>\n<td headers=\"CPOE\" class=\"gt_row gt_right\" style=\"background-color: #FD8A09; color: #000000;\">2.6592</td></tr>\n    <tr><td headers=\"Team\" class=\"gt_row gt_left\">ARI</td>\n<td headers=\"# Passes\" class=\"gt_row gt_right\" style=\"border-right-width: 3px; border-right-style: solid; border-right-color: black;\">1039</td>\n<td headers=\"# Comps\" class=\"gt_row gt_right\">717</td>\n<td headers=\"Comp %\" class=\"gt_row gt_right\" style=\"background-color: #FF8C00; color: #000000;\">69.0087</td>\n<td headers=\"Exp # Comps\" class=\"gt_row gt_right\">688.5146</td>\n<td headers=\"Exp Comp %\" class=\"gt_row gt_right\" style=\"background-color: #E27336; color: #FFFFFF;\">66.2670</td>\n<td headers=\"CPOE\" class=\"gt_row gt_right\" style=\"background-color: #FF8C00; color: #000000;\">2.7416</td></tr>\n  </tbody>\n  \n  \n</table>\n</div>\n```\n:::\n:::\n\n\n\nThe point of going through these three different rankings is to indicate how each group of variables: QB, receiver, and defense, each display variation that we ideally want to account for in a model. This will be the topic of discussion for the next so many lectures.\n\n## Estimating coefficients for QBs\n\nAs a starting point, we'll fit another logistic regression model for completion probability but now we'll account for the QB attempting the pass via a categorical variable to estimate coefficients for each passer (note this will take a slightly longer amount of time to run):\n\n\n::: {.cell}\n\n```{.r .cell-code}\npasser_logit <- glm(complete_pass ~ pass_location + air_yards + qb_hit +\n                      passer_name_id,\n                    data = nfl_passing_data, family = \"binomial\")\nsummary(passer_logit)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n\nCall:\nglm(formula = complete_pass ~ pass_location + air_yards + qb_hit + \n    passer_name_id, family = \"binomial\", data = nfl_passing_data)\n\nDeviance Residuals: \n    Min       1Q   Median       3Q      Max  \n-2.2047  -1.1610   0.7084   0.8486   2.4092  \n\nCoefficients:\n                                               Estimate Std. Error z value\n(Intercept)                                   13.890565 535.411133   0.026\npass_locationmiddle                            0.158477   0.032375   4.895\npass_locationright                            -0.087527   0.026422  -3.313\nair_yards                                     -0.059243   0.001213 -48.837\nqb_hit                                        -1.085293   0.039252 -27.649\npasser_name_idA.Dalton_00-0027973            -12.756376 535.411153  -0.024\npasser_name_idA.Lazard_00-0034521            -26.361977 757.185710  -0.035\npasser_name_idA.McCarron_00-0031288          -12.585484 535.412306  -0.024\npasser_name_idA.Mitchell_00-0039890           -0.679955 757.185711  -0.001\npasser_name_idA.O'Connell_00-0038579         -12.798841 535.411140  -0.024\npasser_name_idA.Richardson_00-0039164        -13.102355 535.411145  -0.024\npasser_name_idA.Rodgers_00-0023459           -12.826538 535.411140  -0.024\npasser_name_idA.St. Brown_00-0036963          -0.028285 757.185711   0.000\npasser_name_idB.Allen_00-0032434             -13.081262 535.411270  -0.024\npasser_name_idB.Anger_00-0029692             -13.600205 535.413021  -0.025\npasser_name_idB.Gabbert_00-0027948           -13.235460 535.411257  -0.025\npasser_name_idB.Hoyer_00-0026625             -13.221568 535.411227  -0.025\npasser_name_idB.Mann_00-0036313                0.414699 757.185710   0.001\npasser_name_idB.Mayfield_00-0034855          -12.576821 535.411136  -0.023\npasser_name_idB.Nix_00-0039732               -12.658471 535.411141  -0.024\npasser_name_idB.Purdy_00-0037834             -12.487777 535.411138  -0.023\npasser_name_idB.Rypien_00-0034955            -13.404705 535.411240  -0.025\npasser_name_idB.Young_00-0039150             -12.850871 535.411137  -0.024\npasser_name_idB.Zappe_00-0038108             -12.971181 535.411150  -0.024\npasser_name_idC.Beathard_00-0033936          -12.215626 535.411236  -0.023\npasser_name_idC.Godwin_00-0033921            -26.302734 757.185710  -0.035\npasser_name_idC.Keenum_00-0028986            -12.803016 535.411216  -0.024\npasser_name_idC.Kirk_00-0034775              -13.062503 535.413315  -0.024\npasser_name_idC.Rush_00-0033662              -12.893358 535.411145  -0.024\npasser_name_idC.Stroud_00-0039163            -12.669463 535.411137  -0.024\npasser_name_idC.Sutton_00-0034348              0.355204 648.697971   0.001\npasser_name_idC.Tune_00-0038582              -13.095103 535.411316  -0.024\npasser_name_idC.Wentz_00-0032950             -12.556132 535.411241  -0.023\npasser_name_idC.Williams_00-0039918          -12.769664 535.411140  -0.024\npasser_name_idC.Wilson_00-0034418              0.947884 757.185710   0.001\npasser_name_idCo.Heyward_00-0037304          -27.606075 757.185710  -0.036\npasser_name_idD.Brown_00-0036626             -12.794574 535.413549  -0.024\npasser_name_idD.Carr_00-0031280              -12.529190 535.411138  -0.023\npasser_name_idD.Henry_00-0032764             -12.628181 535.412580  -0.024\npasser_name_idD.Hopkins_00-0030564           -26.430581 757.185712  -0.035\npasser_name_idD.Jones_00-0035710             -12.673487 535.411142  -0.024\npasser_name_idD.Lock_00-0035704              -12.933044 535.411149  -0.024\npasser_name_idD.London_00-0037238              0.386415 757.185711   0.001\npasser_name_idD.Maye_00-0039851              -12.632783 535.411146  -0.024\npasser_name_idD.Mills_00-0036898             -13.397939 535.411185  -0.025\npasser_name_idD.Montgomery_00-0035685         -0.059243 757.185710   0.000\npasser_name_idD.Mooney_00-0036309            -25.158198 757.185711  -0.033\npasser_name_idD.Moore_00-0034827             -25.414093 757.185711  -0.034\npasser_name_idD.Prescott_00-0033077          -12.516723 535.411138  -0.023\npasser_name_idD.Ridder_00-0038122            -12.707752 535.411142  -0.024\npasser_name_idD.Samuel_00-0035719            -25.632140 757.185711  -0.034\npasser_name_idD.Singletary_00-0035250          1.203779 757.185711   0.002\npasser_name_idD.Thompson-Robinson_00-0038583 -13.280235 535.411150  -0.025\npasser_name_idD.Watson_00-0033537            -12.699020 535.411144  -0.024\npasser_name_idD.Wicks_00-0038393               0.296214 757.185710   0.000\npasser_name_idE.Stick_00-0035282             -12.780861 535.411158  -0.024\npasser_name_idG.Minshew_00-0035289           -12.793448 535.411138  -0.024\npasser_name_idG.Smith_00-0030565             -12.554024 535.411137  -0.023\npasser_name_idG.Wilson_00-0037740            -26.776676 757.185710  -0.035\npasser_name_idH.Hooker_00-0038550            -12.764219 535.411614  -0.024\npasser_name_idJ.Allen_00-0034857             -12.605147 535.411137  -0.024\npasser_name_idJ.Brissett_00-0033119          -12.795409 535.411157  -0.024\npasser_name_idJ.Browning_00-0035100          -12.466457 535.411153  -0.023\npasser_name_idJ.Burrow_00-0036442            -12.479120 535.411137  -0.023\npasser_name_idJ.Chase_00-0036900              -0.739198 757.185711  -0.001\npasser_name_idJ.Coker_00-0039491               0.710913 757.185710   0.001\npasser_name_idJ.Daniels_00-0039910           -12.529462 535.411142  -0.023\npasser_name_idJ.Dobbs_00-0033949             -12.680533 535.411142  -0.024\npasser_name_idJ.Driskel_00-0032436           -13.142576 535.411295  -0.025\npasser_name_idJ.Fields_00-0036945            -12.746152 535.411141  -0.024\npasser_name_idJ.Flacco_00-0026158            -12.692742 535.411142  -0.024\npasser_name_idJ.Fox_00-0035156                 0.405666 757.185711   0.001\npasser_name_idJ.Garoppolo_00-0031345         -12.645310 535.411154  -0.024\npasser_name_idJ.Goff_00-0033106              -12.480962 535.411137  -0.023\npasser_name_idJ.Haener_00-0038998            -13.370829 535.411240  -0.025\npasser_name_idJ.Hall_00-0038598              -12.607966 535.411361  -0.024\npasser_name_idJ.Hekker_00-0028872            -14.161782 535.412596  -0.026\npasser_name_idJ.Herbert_00-0036355           -12.572364 535.411137  -0.023\npasser_name_idJ.Hurts_00-0036389             -12.578289 535.411137  -0.023\npasser_name_idJ.Jefferson_00-0036322         -12.816070 535.413880  -0.024\npasser_name_idJ.Johnson_00-0026300           -11.709013 535.412653  -0.022\npasser_name_idJ.Love_00-0036264              -12.667203 535.411137  -0.024\npasser_name_idJ.McKinnon_00-0031376           -0.660704 757.185711  -0.001\npasser_name_idJ.Meyers_00-0034960            -12.864965 535.412549  -0.024\npasser_name_idJ.Milton_00-0039398            -11.960663 535.411326  -0.022\npasser_name_idJ.Mixon_00-0033897             -26.776676 757.185710  -0.035\npasser_name_idJ.Reeves-Maybin_00-0033557       1.066370 757.185710   0.001\npasser_name_idJ.Scott_00-0034162              -0.473942 757.185710  -0.001\npasser_name_idJ.Smith_00-0033858             -26.954405 757.185710  -0.036\npasser_name_idJ.Smith-Njigba_00-0038543        2.921819 757.185712   0.004\npasser_name_idJ.Stidham_00-0035264           -12.791442 535.411201  -0.024\npasser_name_idJ.Winston_00-0031503           -12.807717 535.411145  -0.024\npasser_name_idK.Allen_00-0030279             -13.456050 535.412545  -0.025\npasser_name_idK.Allen_00-0034577               0.287180 757.185711   0.000\npasser_name_idK.Bourne_00-0033307            -27.369104 757.185710  -0.036\npasser_name_idK.Cousins_00-0029604           -12.477423 535.411139  -0.023\npasser_name_idK.Gainwell_00-0036919            0.682629 757.185711   0.001\npasser_name_idK.Murray_00-0035228            -12.632661 535.411138  -0.024\npasser_name_idK.Pickett_00-0038102           -12.813749 535.411144  -0.024\npasser_name_idK.Toney_00-0036913             -26.421220 757.185710  -0.035\npasser_name_idK.Trask_00-0036928             -13.846801 535.413023  -0.026\npasser_name_idL.Cooke_00-0034437              -0.087527 757.185711   0.000\npasser_name_idL.Jackson_00-0034796           -12.534336 535.411137  -0.023\npasser_name_idL.Woodside_00-0034438          -12.372938 535.412433  -0.023\npasser_name_idM.Jones_00-0036972             -12.730917 535.411140  -0.024\npasser_name_idM.Killebrew_00-0032399         -26.627233 757.185711  -0.035\npasser_name_idM.Mariota_00-0032268           -12.177335 535.411213  -0.023\npasser_name_idM.Nabers_00-0039337            -27.309861 757.185710  -0.036\npasser_name_idM.Penix_00-0039917             -12.864351 535.411173  -0.024\npasser_name_idM.Rudolph_00-0034771           -12.612450 535.411148  -0.024\npasser_name_idM.Stafford_00-0026498          -12.691916 535.411137  -0.024\npasser_name_idM.Trubisky_00-0033869          -12.608433 535.411168  -0.024\npasser_name_idM.White_00-0034401             -13.557147 535.411388  -0.025\npasser_name_idM.Willis_00-0038128            -12.169524 535.411227  -0.023\npasser_name_idN.Mullens_00-0033319           -12.252149 535.411165  -0.023\npasser_name_idP.Mahomes_00-0033873           -12.588532 535.411136  -0.024\npasser_name_idP.Walker_00-0033275            -13.256732 535.411170  -0.025\npasser_name_idR.Dixon_00-0032943              -0.779189 757.185711  -0.001\npasser_name_idR.Pearsall_00-0039916          -26.776676 757.185710  -0.035\npasser_name_idR.Tannehill_00-0029701         -12.556541 535.411153  -0.023\npasser_name_idR.Wilson_00-0029263            -12.574812 535.411138  -0.023\npasser_name_idS.Clifford_00-0038391            1.531279 757.185712   0.002\npasser_name_idS.Darnold_00-0034869           -12.577759 535.411140  -0.023\npasser_name_idS.Diggs_00-0031588              -0.473942 757.185710  -0.001\npasser_name_idS.Howell_00-0037077            -12.789672 535.411139  -0.024\npasser_name_idS.Rattler_00-0039376           -13.025311 535.411151  -0.024\npasser_name_idS.Thompson_00-0037327          -12.645821 535.411265  -0.024\npasser_name_idT.Atwell_00-0036849            -25.354850 757.185711  -0.033\npasser_name_idT.Bagent_00-0038416            -12.767563 535.411164  -0.024\npasser_name_idT.Boyd_00-0033009              -27.029112 630.160400  -0.043\npasser_name_idT.Boyle_00-0034177             -13.008536 535.411167  -0.024\npasser_name_idT.DeVito_00-0038476            -12.758477 535.411152  -0.024\npasser_name_idT.Heinicke_00-0031800          -13.073210 535.411163  -0.024\npasser_name_idT.Hill_00-0033357              -12.973565 535.411426  -0.024\npasser_name_idT.Huntley_00-0035993           -12.729958 535.411158  -0.024\npasser_name_idT.Lance_00-0037012             -12.987293 535.411237  -0.024\npasser_name_idT.Lawrence_00-0036971          -12.686691 535.411138  -0.024\npasser_name_idT.McKee_00-0038400             -12.608173 535.411231  -0.024\npasser_name_idT.Morstead_00-0027114            0.267929 757.185711   0.000\npasser_name_idT.Siemian_00-0032156           -13.204427 535.411159  -0.025\npasser_name_idT.Tagovailoa_00-0036212        -12.480383 535.411137  -0.023\npasser_name_idT.Taylor_00-0028118            -12.484961 535.411157  -0.023\npasser_name_idT.Townsend_00-0035889            0.327172 757.185711   0.000\npasser_name_idW.Levis_00-0039152             -12.672050 535.411141  -0.024\npasser_name_idZ.Wilson_00-0037013            -12.879896 535.411144  -0.024\n                                             Pr(>|z|)    \n(Intercept)                                  0.979302    \npass_locationmiddle                          9.83e-07 ***\npass_locationright                           0.000924 ***\nair_yards                                     < 2e-16 ***\nqb_hit                                        < 2e-16 ***\npasser_name_idA.Dalton_00-0027973            0.980992    \npasser_name_idA.Lazard_00-0034521            0.972227    \npasser_name_idA.McCarron_00-0031288          0.981247    \npasser_name_idA.Mitchell_00-0039890          0.999283    \npasser_name_idA.O'Connell_00-0038579         0.980929    \npasser_name_idA.Richardson_00-0039164        0.980476    \npasser_name_idA.Rodgers_00-0023459           0.980887    \npasser_name_idA.St. Brown_00-0036963         0.999970    \npasser_name_idB.Allen_00-0032434             0.980508    \npasser_name_idB.Anger_00-0029692             0.979735    \npasser_name_idB.Gabbert_00-0027948           0.980278    \npasser_name_idB.Hoyer_00-0026625             0.980299    \npasser_name_idB.Mann_00-0036313              0.999563    \npasser_name_idB.Mayfield_00-0034855          0.981259    \npasser_name_idB.Nix_00-0039732               0.981138    \npasser_name_idB.Purdy_00-0037834             0.981392    \npasser_name_idB.Rypien_00-0034955            0.980026    \npasser_name_idB.Young_00-0039150             0.980851    \npasser_name_idB.Zappe_00-0038108             0.980672    \npasser_name_idC.Beathard_00-0033936          0.981798    \npasser_name_idC.Godwin_00-0033921            0.972289    \npasser_name_idC.Keenum_00-0028986            0.980922    \npasser_name_idC.Kirk_00-0034775              0.980536    \npasser_name_idC.Rush_00-0033662              0.980788    \npasser_name_idC.Stroud_00-0039163            0.981121    \npasser_name_idC.Sutton_00-0034348            0.999563    \npasser_name_idC.Tune_00-0038582              0.980487    \npasser_name_idC.Wentz_00-0032950             0.981290    \npasser_name_idC.Williams_00-0039918          0.980972    \npasser_name_idC.Wilson_00-0034418            0.999001    \npasser_name_idCo.Heyward_00-0037304          0.970917    \npasser_name_idD.Brown_00-0036626             0.980935    \npasser_name_idD.Carr_00-0031280              0.981330    \npasser_name_idD.Henry_00-0032764             0.981183    \npasser_name_idD.Hopkins_00-0030564           0.972154    \npasser_name_idD.Jones_00-0035710             0.981115    \npasser_name_idD.Lock_00-0035704              0.980729    \npasser_name_idD.London_00-0037238            0.999593    \npasser_name_idD.Maye_00-0039851              0.981176    \npasser_name_idD.Mills_00-0036898             0.980036    \npasser_name_idD.Montgomery_00-0035685        0.999938    \npasser_name_idD.Mooney_00-0036309            0.973494    \npasser_name_idD.Moore_00-0034827             0.973225    \npasser_name_idD.Prescott_00-0033077          0.981349    \npasser_name_idD.Ridder_00-0038122            0.981064    \npasser_name_idD.Samuel_00-0035719            0.972995    \npasser_name_idD.Singletary_00-0035250        0.998732    \npasser_name_idD.Thompson-Robinson_00-0038583 0.980211    \npasser_name_idD.Watson_00-0033537            0.981077    \npasser_name_idD.Wicks_00-0038393             0.999688    \npasser_name_idE.Stick_00-0035282             0.980955    \npasser_name_idG.Minshew_00-0035289           0.980937    \npasser_name_idG.Smith_00-0030565             0.981293    \npasser_name_idG.Wilson_00-0037740            0.971790    \npasser_name_idH.Hooker_00-0038550            0.980980    \npasser_name_idJ.Allen_00-0034857             0.981217    \npasser_name_idJ.Brissett_00-0033119          0.980934    \npasser_name_idJ.Browning_00-0035100          0.981424    \npasser_name_idJ.Burrow_00-0036442            0.981405    \npasser_name_idJ.Chase_00-0036900             0.999221    \npasser_name_idJ.Coker_00-0039491             0.999251    \npasser_name_idJ.Daniels_00-0039910           0.981330    \npasser_name_idJ.Dobbs_00-0033949             0.981105    \npasser_name_idJ.Driskel_00-0032436           0.980417    \npasser_name_idJ.Fields_00-0036945            0.981007    \npasser_name_idJ.Flacco_00-0026158            0.981087    \npasser_name_idJ.Fox_00-0035156               0.999573    \npasser_name_idJ.Garoppolo_00-0031345         0.981157    \npasser_name_idJ.Goff_00-0033106              0.981402    \npasser_name_idJ.Haener_00-0038998            0.980076    \npasser_name_idJ.Hall_00-0038598              0.981213    \npasser_name_idJ.Hekker_00-0028872            0.978898    \npasser_name_idJ.Herbert_00-0036355           0.981266    \npasser_name_idJ.Hurts_00-0036389             0.981257    \npasser_name_idJ.Jefferson_00-0036322         0.980903    \npasser_name_idJ.Johnson_00-0026300           0.982552    \npasser_name_idJ.Love_00-0036264              0.981125    \npasser_name_idJ.McKinnon_00-0031376          0.999304    \npasser_name_idJ.Meyers_00-0034960            0.980830    \npasser_name_idJ.Milton_00-0039398            0.982177    \npasser_name_idJ.Mixon_00-0033897             0.971790    \npasser_name_idJ.Reeves-Maybin_00-0033557     0.998876    \npasser_name_idJ.Scott_00-0034162             0.999501    \npasser_name_idJ.Smith_00-0033858             0.971603    \npasser_name_idJ.Smith-Njigba_00-0038543      0.996921    \npasser_name_idJ.Stidham_00-0035264           0.980940    \npasser_name_idJ.Winston_00-0031503           0.980915    \npasser_name_idK.Allen_00-0030279             0.979950    \npasser_name_idK.Allen_00-0034577             0.999697    \npasser_name_idK.Bourne_00-0033307            0.971166    \npasser_name_idK.Cousins_00-0029604           0.981407    \npasser_name_idK.Gainwell_00-0036919          0.999281    \npasser_name_idK.Murray_00-0035228            0.981176    \npasser_name_idK.Pickett_00-0038102           0.980906    \npasser_name_idK.Toney_00-0036913             0.972164    \npasser_name_idK.Trask_00-0036928             0.979367    \npasser_name_idL.Cooke_00-0034437             0.999908    \npasser_name_idL.Jackson_00-0034796           0.981323    \npasser_name_idL.Woodside_00-0034438          0.981563    \npasser_name_idM.Jones_00-0036972             0.981030    \npasser_name_idM.Killebrew_00-0032399         0.971947    \npasser_name_idM.Mariota_00-0032268           0.981855    \npasser_name_idM.Nabers_00-0039337            0.971228    \npasser_name_idM.Penix_00-0039917             0.980831    \npasser_name_idM.Rudolph_00-0034771           0.981206    \npasser_name_idM.Stafford_00-0026498          0.981088    \npasser_name_idM.Trubisky_00-0033869          0.981212    \npasser_name_idM.White_00-0034401             0.979799    \npasser_name_idM.Willis_00-0038128            0.981866    \npasser_name_idN.Mullens_00-0033319           0.981743    \npasser_name_idP.Mahomes_00-0033873           0.981242    \npasser_name_idP.Walker_00-0033275            0.980246    \npasser_name_idR.Dixon_00-0032943             0.999179    \npasser_name_idR.Pearsall_00-0039916          0.971790    \npasser_name_idR.Tannehill_00-0029701         0.981290    \npasser_name_idR.Wilson_00-0029263            0.981262    \npasser_name_idS.Clifford_00-0038391          0.998386    \npasser_name_idS.Darnold_00-0034869           0.981258    \npasser_name_idS.Diggs_00-0031588             0.999501    \npasser_name_idS.Howell_00-0037077            0.980942    \npasser_name_idS.Rattler_00-0039376           0.980591    \npasser_name_idS.Thompson_00-0037327          0.981157    \npasser_name_idT.Atwell_00-0036849            0.973287    \npasser_name_idT.Bagent_00-0038416            0.980975    \npasser_name_idT.Boyd_00-0033009              0.965787    \npasser_name_idT.Boyle_00-0034177             0.980616    \npasser_name_idT.DeVito_00-0038476            0.980989    \npasser_name_idT.Heinicke_00-0031800          0.980520    \npasser_name_idT.Hill_00-0033357              0.980668    \npasser_name_idT.Huntley_00-0035993           0.981031    \npasser_name_idT.Lance_00-0037012             0.980648    \npasser_name_idT.Lawrence_00-0036971          0.981096    \npasser_name_idT.McKee_00-0038400             0.981213    \npasser_name_idT.Morstead_00-0027114          0.999718    \npasser_name_idT.Siemian_00-0032156           0.980324    \npasser_name_idT.Tagovailoa_00-0036212        0.981403    \npasser_name_idT.Taylor_00-0028118            0.981396    \npasser_name_idT.Townsend_00-0035889          0.999655    \npasser_name_idW.Levis_00-0039152             0.981118    \npasser_name_idZ.Wilson_00-0037013            0.980808    \n---\nSignif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1\n\n(Dispersion parameter for binomial family taken to be 1)\n\n    Null deviance: 46543  on 35986  degrees of freedom\nResidual deviance: 42623  on 35842  degrees of freedom\nAIC: 42913\n\nNumber of Fisher Scoring iterations: 12\n```\n:::\n:::\n\n\n\nObviously there are many more coefficients displayed in the summary output, with a number of players that I've never heard of before that seem to have rather large coefficient estimates... likely due to limited sample size (more on that in the lectures ahead).\n\nWe can examine what the distribution of the coefficients looks like using the `tidy()` function from the [`broom`](https://broom.tidymodels.org/index.html) package which helps grab relevant model output and puts it in a tidy table:\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(broom)\n\n# Get the model coefficients:\nlogit_coef_table <- tidy(passer_logit)\n\n# Only display the estimates for the passer_name_id coefficients:\nlogit_coef_table |>\n  filter(str_detect(term, \"passer_name_id\")) |>\n  ggplot(aes(x = estimate)) +\n  geom_histogram(color = \"black\", fill = \"blue\", alpha = 0.7) +\n  labs(x = \"Passer coefficient estimate\",\n       y = \"Count\") +\n  theme_bw()\n```\n\n::: {.cell-output .cell-output-stderr}\n```\n`stat_bin()` using `bins = 30`. Pick better value with `binwidth`.\n```\n:::\n\n::: {.cell-output-display}\n![](04b-cpoe_files/figure-html/unnamed-chunk-8-1.png){width=672}\n:::\n:::\n\n\nAnd if we focus on the middle portion of the distribution:\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlogit_coef_table |>\n  filter(str_detect(term, \"passer_name_id\"),\n         estimate < -10, estimate > -15) |>\n  ggplot(aes(x = estimate)) +\n  geom_histogram(color = \"black\", fill = \"blue\", alpha = 0.7) +\n  labs(x = \"Passer coefficient estimate\",\n       y = \"Count\") +\n  theme_bw()\n```\n\n::: {.cell-output .cell-output-stderr}\n```\n`stat_bin()` using `bins = 30`. Pick better value with `binwidth`.\n```\n:::\n\n::: {.cell-output-display}\n![](04b-cpoe_files/figure-html/unnamed-chunk-9-1.png){width=672}\n:::\n:::\n\n\nThis suggests we can model the QB coefficients according to a distribution! And that leads us into the next lecture's material...\n",
    "supporting": [
      "04b-cpoe_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}